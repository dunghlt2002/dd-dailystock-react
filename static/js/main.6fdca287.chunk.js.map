{"version":3,"sources":["actions/userActions.js","components/home.component.js","services/user.service.js","components/user-list.component.js","components/email.component.js","components/add-user.component.js","utils/utility.js","components/profile.component.js","components/signin.component.js","services/dailystock.service.js","components/import-csv.component.js","components/z-under-construction.component.js","components/edit-trade.component.js","components/trade.component.js","components/trading-list.component.js","components/trade-detail.component.js","App.js","store.js","reducers/userReducers.js","serviceWorker.js","index.js"],"names":["userLogoutFetch","console","log","dispatch","Cookie","remove","type","HomeScreen","props","logoutHandler","e","preventDefault","history","push","state","isadmin","this","currentUser","className","to","Component","connect","ownProps","JSON","stringify","userSignin","currUser","API_URL","currentPage","search_keyword","token","getJSON","axios","get","headers","id","data","post","users_id","put","delete","users_name","usersList","onChangesearchKeyword","bind","retrieveusers","refreshList","setActiveUser","searchKeyword","onChangeCurrentPage","postsPerPage","totalPages","users","currentIndex","i","setState","userDataService","then","response","catch","window","location","target","value","getAll","pages","user","index","onSubmit","event","placeholder","onChange","onClick","map","key","email","confirm","deleteUser","pageCount","pageLinkClassName","currentLinkClassName","onPageClick","userInfo","MyEmail","name","children","title","style","paddingLeft","href","AddUser","fileSelectedHandler","avatar","files","selectedFile","onChangeUser","onChangepAvatar","onChangeEmail","onChangeUsers_Password","onChangeIsAdmin","saveUser","newUser","users_password","submitted","message","password","create","fd","FormData","append","url","method","res","statusText","messageHtml","renderEmail","msg","alert","htmlFor","required","folder","myFile","UserProfile","prevState","onChangePassword","getUser","updateIsAdmin_status","updateUser","loading","error","match","params","update","myUtility","uploadFiles","src","alt","SigninScreen","isChange","submitHandler","userLoginFetch","redirect","nextProps","search","split","currError","a","payload","fetch","Accept","body","resp","json","localStorage","setItem","set","transaction_id","ImportCSV","file","reader","FileReader","readAsText","userList1","onload","csv","parse","result","err","length","parseFloat","transaction1","playIt","handleSelectItem","onDeleted","isShiftDown","selectedItems","lastSelectedItem","checkedBoxes","finalTransaction","importTransaction","newTransaction2","selectedArray","importArray","filter","item","includes","tid","saveTransaction","importArr","dailystockDataService","builkCreate","arr","customers","toString","nextValue","getNextValue","Number","hasBeenSelected","newSelectedItems","getNewSelectedItems","selections","Set","final","t_scan1","ttype","symbol","fistFoundArray","t_scan2","checked","idFound","price","ttt","newT","qty","trans","align","transaction","buyshort","entrypoint","exitpoint","itransaction","UnderConstruction","EditTrade","s_image","currentTrade","fileBigSelectedHandler","b_image","selectedBigFile","translateIndicatorColor","color","translateBuyShort","strBSColor","showForm","showAddButton","showEditButton","showDeleteButton","myTag","onChangeTitle","onChangeSymbolcode","onChangeQty","onChangeEntryPoint","onChangeExitPoint","onChangeStocolor","onChangeRsicolor","onChangeMacdcolor","onChangeMacd_htfcolor","onChangeBuyShort","onChangeTimeframe","onChangeS_image","onChangeB_image","parseInt","getTradeData","stocolor","rsicolor","macdcolor","macd_htf","timeframe","symbolcode","selected","width","data-dismiss","updateTrade","backToTradingList","Trade","editTrade","tradeId","renderDeleteButton","deleteTrade","chuyenDoiURL","str","toLowerCase","replace","currentuser","createddate","tradingList","renderAddButton","addclosebutton","renderAddForm","aria-describedby","for","isActionChange","defaultChecked","class","addTransaction","printData","createdby","ss_image","bb_image","today","Date","date","getFullYear","getMonth","getDate","queryString","masterSymbols","topFive","showButton","currentTransaction","retrieveTransactions","getAllSymbol","retrieveNotMasterCategories","keyword","reverse","mastercategory","DemNguoc","slice","masterFive","TradeDetail","createdAt","App","openMenu","document","querySelector","classList","add","closeMenu","usvn_longtieng","path","exact","component","UsersList","TradingList","initialState","reducer","combineReducers","action","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","subscribe","getState","Boolean","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6fdca287.chunk.js","sourcesContent":["import Axios from \"axios\";\nimport Cookie from 'js-cookie';\n// import http from \"../http-common\";\n\n// import {\n//   USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS,\n//   USER_SIGNIN_FAIL, USER_REGISTER_REQUEST,\n//   USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL\n// } from \"../constants/userConstants\";\n\n// viet lai theo kieu redux mapDispatchtoProps\nconst getProfileFetch = () => {\n  console.log('vo getprofile theky ');\n  return dispatch => {\n    const token = localStorage.token;\n    console.log('token lay tu local ' + token);\n  }\n}\n\n\nconst userLogoutFetch = () => {\n  console.log('OUT');\n  return dispatch => {\n    Cookie.remove('userInfo');\n    // dispatch(logoutUser)\n    // dispatch({ type: 'USER_LOGOUT', payload: {} });\n    dispatch({ type: 'USER_LOGOUT' });\n  }\n}\n\n\nconst userLoginFetch = (user, password) => async (dispatch) => {\n  \n  console.log('vo day la action 0711 ' + user);\n  dispatch({ type: 'USER_SIGNIN_REQUEST', payload: {user, password} });\n  try {\n    // const { data } = await Axios.post(\"/api/users/signin\", { email, password });\n    return await fetch(\"http://localhost:8080/api/signin\", {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n      },\n      body: JSON.stringify({ user, password })\n    })\n    .then(resp => resp.json())\n    .then(data => {\n      if (data.message) {\n      } else {\n        console.log('data tra ve ' + JSON.stringify(data));\n        // localStorage.setItem(\"token\", JSON.stringify(data).token)\n        localStorage.setItem(\"user\", JSON.stringify(data).user);\n        localStorage.setItem(\"password\", JSON.stringify(data).password);\n        console.log('login xong ne ' + data.error);\n        if (data.error) {\n          dispatch({ type: 'USER_SIGNIN_FAIL', payload: data });\n        }\n        else {\n          Cookie.set('userInfo', data);\n          dispatch({ type: 'USER_SIGNIN_SUCCESS', payload: data });\n          \n        }\n        \n      }\n    })\n  } catch (error) {\n    dispatch({ type: 'USER_SIGNIN_FAIL', payload: error });\n  }\n}\n\nexport { userLoginFetch, userLogoutFetch, getProfileFetch };\n// export { register, update, userLoginFetch, userLogoutFetch, getProfileFetch };\n// export { signin, register, logout, update, userLoginFetch };\n\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { userLogoutFetch } from '../actions/userActions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass HomeScreen extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      // this.onChangeUser = this.onChangeUser.bind(this);\r\n      // this.onChangePassword = this.onChangePassword.bind(this);\r\n\r\n      this.state = {\r\n          isadmin: 1\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  \r\n  logoutHandler = (e) => {\r\n    e.preventDefault();\r\n    // dispatch(userLoginFetch(this.state.user, this.state.password));\r\n    // this.props.userLogoutFetch(this.state.user,this.state.password);\r\n    this.props.userLogoutFetch();\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.state;\r\n\r\n    return (\r\n      <div className=\"profile-info\">\r\n      <div className=\"form\">\r\n          DD Project - Home Page\r\n      </div>\r\n      <div className=\"form\">\r\n          <Link to=\"signin\">Sign-in here</Link>\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  userLogoutFetch: () => dispatch(userLogoutFetch())\r\n})\r\nconst mapStateToProps = (state, ownProps) => {\r\n  console.log('userSignin trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin));\r\n  return {\r\n      currUser: state.userSignin\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomeScreen);\r\n\r\n","import axios from 'axios';\n// import authHeader from './auth-header';\n// import http from \"../http-common\";\nimport Cookie from 'js-cookie';\n\n// thay vi nhot trong http-common dem ra day cho de nhin va chinh header\nconst API_URL = 'http://localhost:8080/api/';\n\nclass userDataService {\n  \n  getAll(currentPage,search_keyword) {\n    \n    const userInfo = Cookie.getJSON('userInfo') || null;\n    const token = userInfo.token;    \n    \n    console.log('get all users here limit ' + currentPage) ;\n\n    return axios.get(\n      API_URL + `users/${currentPage}?search_keyword=${search_keyword}`,\n      { headers: {'Authorization': `Bearer ${token}` }}\n      );\n  }\n\n  get(id) {\n    console.log('lay 1 user ' + id);\n    return axios.get(API_URL + `/user/${id}`);\n  }\n\n  create(data) {\n    return axios.post(API_URL + `/users`, data);\n  }\n\n  update(users_id, data) {\n    const userInfo = Cookie.getJSON('userInfo') || null;\n    const token = userInfo.token;\n    console.log('user in service:  ' + JSON.stringify(data));\n    return axios.put(API_URL + `/users/${users_id}`, data,\n    { headers: {'Authorization': `Bearer ${token}` }}\n    );\n  }\n  \n  delete(users_id) {\n    const userInfo = Cookie.getJSON('userInfo') || null;\n    const token = userInfo.token;\n    return axios.delete(API_URL + `/users/${users_id}`,\n    { headers: {'Authorization': `Bearer ${token}` }}\n    );\n  }\n\n  findByKeyword(search_keyword) {\n    console.log('hi search name');\n    return axios.get(API_URL + `/users?search_keyword=${search_keyword}`);\n  }\n\n  findByusers_name(users_name) {\n    return axios.get(API_URL + `/users?users_name=${users_name}`);\n  }\n\n  // deleteAll() {\n  //   return http.delete(`/users`);\n  // }\n\n}\n\nexport default new userDataService();","import React, { Component } from \"react\";\r\nimport userDataService from \"../services/user.service\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Pagination from 'pagination-component';\r\nimport '../App.css';\r\nimport { connect } from 'react-redux';\r\n\r\nclass usersList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.onChangesearchKeyword = this.onChangesearchKeyword.bind(this);\r\n    this.retrieveusers = this.retrieveusers.bind(this);\r\n    this.refreshList = this.refreshList.bind(this);\r\n    this.setActiveUser = this.setActiveUser.bind(this);\r\n    this.searchKeyword = this.searchKeyword.bind(this);\r\n    this.onChangeCurrentPage = this.onChangeCurrentPage.bind(this);\r\n    \r\n\r\n    this.state = {\r\n      postsPerPage:15,\r\n      totalPages: 1,\r\n      currentPage: 1,\r\n      users: [],\r\n      currentUser: null,\r\n      currentIndex: -1,  // phan tu dau tien trong list duoc selected\r\n      searchKeyword: ''\r\n    };\r\n  }\r\n\r\n\r\n  onChangeCurrentPage(i) {\r\n    console.log('i la : ' + i);\r\n    this.setState({\r\n      currentPage: i+1\r\n    })\r\n\r\n    console.log('trang thu chinh xac :  ' + this.state.currentPage + ' hay la i+1 ' + (i+1));\r\n    this.retrieveusers((i+1));\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    this.retrieveusers(this.state.currentPage,this.state.searchKeyword);\r\n  }\r\n\r\n  //works great 6/26/2020\r\n  deleteUser(id) {  \r\n    //console.log('vo delete func   :  ' + cat_id);  \r\n    userDataService.delete(id)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        // this.props.history.push('/users')\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n      window.location=\"/users\";\r\n  }\r\n\r\n  onChangesearchKeyword(e) {\r\n    const searchKeyword = e.target.value;\r\n\r\n    this.setState({\r\n      searchKeyword: searchKeyword\r\n    });\r\n  }\r\n\r\n  retrieveusers(currentPage) {\r\n    // console.log('trang ht ' + currentPage);\r\n    // console.log('trang ht ' + searchKeyword);\r\n\r\n    userDataService.getAll(currentPage,this.state.searchKeyword)\r\n      .then(response => {\r\n        this.setState({\r\n          users: response.data.data,\r\n          totalPages: response.data.pages\r\n        });\r\n        console.log(response.data);\r\n        console.log('ket qua total pages' + response.data.pages);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  refreshList() {\r\n    this.retrieveusers();\r\n    this.setState({\r\n      currentUser: null,\r\n      currentIndex: -1\r\n    });\r\n  }\r\n\r\n  setActiveUser(user, index) {\r\n    this.setState({\r\n      currentUser: user,\r\n      currentIndex: index\r\n    });\r\n  }\r\n\r\n  searchKeyword(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n        users: [],\r\n        totalPages: 1,\r\n        currentIndex: -1,\r\n        currentUser: null\r\n    })\r\n\r\n    userDataService.getAll(this.state.currentPage, this.state.searchKeyword)\r\n      .then(response => {\r\n        this.setState({\r\n          users: response.data.data,\r\n          totalPages: response.data.pages\r\n        });\r\n        console.log(this.state.users);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { searchKeyword, users, currentUser, currentIndex } = this.state;\r\n    // console.log('user la ' + users.length);\r\n    return (\r\n      <div className=\"list row\">\r\n        <div className=\"col-md-12\">\r\n          <form type=\"submit\" onSubmit={(event) => this.searchKeyword(event)}>\r\n              <div className=\"input-group\">\r\n                  <input type=\"text\" className=\"searchInputLong\"\r\n                    placeholder=\"Search by user name\" value={searchKeyword}\r\n                    onChange={this.onChangesearchKeyword} />\r\n                \r\n                  <button className=\"btn btn-outline-secondary\"\r\n                    type=\"button\" onClick={(event) => this.searchKeyword(event)}>\r\n                    Search </button>\r\n              </div>\r\n          </form>\r\n          \r\n        </div>\r\n\r\n        <div className=\"col-md-4\">\r\n          <h2>User List</h2>\r\n\r\n          <ul className=\"list-group\">\r\n            {users &&\r\n              users.map((user, index) => (\r\n                <li\r\n                  className={\r\n                    \"list-group-item \" +\r\n                    (index === currentIndex ? \"active\" : \"\")\r\n                  }\r\n                  onClick={() => this.setActiveUser(user, index)}\r\n                  key={index}\r\n                >\r\n                  {user.user}\r\n                </li>\r\n              ))}\r\n          </ul>\r\n\r\n        </div>\r\n\r\n        <div className=\"col-md-8\">\r\n          {currentUser ? (\r\n\r\n            <div className=\"order-header\">\r\n              <h2>User Information</h2>\r\n \r\n              <div className=\"order-info\">\r\n                  <label className=\"order-info-element\"><strong>User Name: </strong></label>\r\n                  {\" \"}{currentUser.user}\r\n              \r\n                  <label className=\"order-info-element\"><strong>Status: </strong></label>\r\n                  {\" \"}{currentUser.isadmin ? \"Regular\" : \"Admin\"}\r\n              </div>\r\n              <div className=\"order-info\">\r\n                  <label className=\"order-info-element\"><strong>Email: </strong></label>\r\n                  {\" \"}{currentUser.email}\r\n              </div>\r\n              \r\n              <div>\r\n                  {/* // o day lai dung ID chu khong phai la users_id */}\r\n                  <Link to={\"/userProfile/\" + currentUser.id}\r\n                    className=\"btn btn-block btn-success\" > \r\n                    Edit this user\r\n                  </Link>\r\n\r\n\r\n                  {/* Phan quyen so so */}\r\n                  { this.props.currUser ? ( this.props.currUser.isadmin === 0 ?\r\n                      <button className=\"btn btn-block btn-danger\" \r\n                      //button badge-danger mr-2\r\n                      type=\"reset\" onClick={() => {\r\n                        if (window.confirm('Are you sure you wish to delete this user?')) this.deleteUser(currentUser.id) }} >\r\n                        Delete\r\n                      </button>\r\n                  : null ) : null\r\n                  }\r\n\r\n                  \r\n                  \r\n              </div>\r\n        </div>\r\n        ) : (\r\n          <div>\r\n            <br />\r\n            <p>Please click on a user to see detail...</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"header col\">\r\n          <Pagination \r\n              currentPage={this.state.currentPage-1}\r\n              pageCount={this.state.totalPages}\r\n              pageLinkClassName=\"page-link\"\r\n              currentLinkClassName=\"current-link\"\r\n              onPageClick={i => {\r\n                console.log(`Link to page ${i} was clicked.`);\r\n                this.onChangeCurrentPage(i);\r\n              }} />\r\n\r\n          currentPage: {this.state.currentPage} / pageCount: {this.state.totalPages}\r\n          {/* <li>pageLinkClassName: \"page-link\"</li>\r\n          <li>currentLinkClassName=\"current-link\"</li> */}\r\n      </div>\r\n    </div>\r\n    \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  console.log('userSignin trong user List ' + JSON.stringify(state.userSignin.userInfo));\r\n  \r\n  return {\r\n      currUser: state.userSignin.userInfo\r\n  }\r\n}\r\nexport default connect(mapStateToProps, null)(usersList);\r\n","import React from 'react';\r\nimport { Email, Item, A} from 'react-html-email';\r\n\r\nexport default function MyEmail({name, children}) {\r\n  return (\r\n  <Email title='link'>\r\n    <Item>\r\n       Hello {name}\r\n       <A style={{ paddingLeft: 10 }}  href='www.thekystore.com'>Visit our wesbite, click here!</A>\r\n    </Item>\r\n    <Item>\r\n      {children}\r\n    </Item>\r\n  </Email>\r\n)};\r\n","import React, { Component } from \"react\";\nimport userDataService from \"../services/user.service\";\nimport axios from \"axios\";\nimport MyEmail from './email.component'\nimport { renderEmail } from 'react-html-email'\nimport { connect } from 'react-redux';\nimport { Link } from \"react-router-dom\";\n\n\nclass AddUser extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeUser = this.onChangeUser.bind(this);\n    this.onChangepAvatar = this.onChangepAvatar.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangeUsers_Password = this.onChangeUsers_Password.bind(this);\n    this.onChangeIsAdmin = this.onChangeIsAdmin.bind(this);\n    this.saveUser = this.saveUser.bind(this);\n    this.newUser = this.newUser.bind(this);\n\n    this.state = {\n      id: null,\n      user: \"Cheo\",\n      email: \"dunghlt2002@gmail.com\", \n      users_password: \"aaa\", \n      isadmin: 1, \n      // users_: \"aaa\", \n      // users_: \"aaa\", \n      submitted: false,\n      selectedFile: null,\n      avatar: \"../avatars/commingsoon.jpg\",\n      message: \"\"\n    };\n  }\n\n  onChangeUser(e) {\n    this.setState({\n      user: e.target.value\n    });\n  }\n\n  onChangepAvatar(e) {\n    this.setState({\n      avatar: e.target.value\n    });\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangeUsers_Password(e) {\n    this.setState({\n      users_password: e.target.value\n    });\n  }\n\n  onChangeIsAdmin(e) {\n    this.setState({\n      user: e.target.value\n    });\n  }\n\n  fileSelectedHandler = event => {\n    const avatar = event.target.files[0].name\n    console.log('file SMALL selected handler');\n\n    this.setState({\n      avatar: \"../avatars/\" + avatar,\n      selectedFile: event.target.files[0]\n    })\n  }\n\n  saveUser() {\n    console.log('vo Usersave');\n    var data = {\n      user: this.state.user,\n      email: this.state.email,\n      avatar: this.state.avatar,\n      // users_: this.state.,\n      password: this.state.users_password,  // password so bi keyword nen dat ten hoi lon xon\n      isadmin: this.state.isadmin\n    };\n\n    userDataService.create(data)\n      .then(response => {\n        this.setState({\n          id: response.data.id,\n          user: response.data.user,\n          avatar: response.data.avatar,\n          email: response.data.email,\n          password: response.data.password,\n          isadmin: response.data.isadmin,\n          submitted: true\n        });\n        console.log('new user : ' + JSON.stringify(response.data));\n        this.setState({\n          message: \"New user: \" + data.user + \" has just created sucessfully!\",\n        })\n\n\n              // Xu ly tiep phan upload file\n              const fd = new FormData();\n\n              // neu co chon file hinh de upload thi moi chay khuc upload nay\n              if (this.state.selectedFile) {\n                  fd.append(\"upfileAvatars\", this.state.selectedFile);\n                  console.log(\"ten file se up la \" + this.state.selectedFile.name);\n                \n                  // tat ca cac function tren backend deu bat dau la localhost:8080/api\n                  // con dieu do qui dinh o dau thi khong biet luon\n                  axios({\n                      url: \"http://localhost:8080/api/upfileAvatars\",\n                      method: \"post\",\n                      data: fd,\n                  }).then(res => {\n                      console.log('file upload result: ' + res.statusText);\n                  }).catch(e => {\n                    console.log(e);\n                  })\n                }\n\n\n\n      })\n      .catch(e => {\n        console.log(e);\n      });\n\n\n          // mailling\n            const messageHtml =  renderEmail(\n              <MyEmail name={this.state.user}> \n                \"A user name: {this.state.user + \" has just created in our system. Thank you for joinging us.\"}\n              </MyEmail>\n            );\n    \n            axios({\n                method: \"POST\", \n                url:\"http://localhost:8080/send\", \n                data: {\n            name: this.state.user,\n            email: this.state.email,\n            messageHtml: messageHtml\n                }\n            }).then((response)=>{\n                if (response.data.msg === 'success'){\n                    alert(\"Email sent, awesome!\"); \n                    // this.resetForm()\n                }else if(response.data.msg === 'fail'){\n                    alert(\"Oops, something went wrong. Try again\")\n                }\n            })\n\n  }\n\n  newUser() {\n    // set up san gia tri cho new user tiep\n    this.setState({\n      id: null,\n      user: \"qqq\",\n      avatar: \"../avatars/commingsoon.jpg\",\n      password: \"qqq\",\n      email: \"dunghlt2002@gmail.com\",\n      isadmin: 1,\n      submitted: false\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"form\">\n        {this.state.submitted ? (\n          <div className=\"form-info\">\n            <h4>You submitted successfully!</h4>\n\n\n            { this.props.currUser.userInfo ? ( this.props.currUser.userInfo.isadmin === 0 ?\n              <button className=\"btn-block btn-primary\" onClick={this.newUser}>\n                Add\n              </button>\n                  : null ) : <Link to=\"signin\">Sign-in here</Link>\n              }\n\n            \n\n\n\n          </div>\n        ) : (\n          <div className=\"form-container\">\n            <li>\n              <h2>Add New user</h2>\n            </li>\n            <li className=\"form-group\">\n              <label htmlFor=\"user\">Users name</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"user\"\n                required\n                value={this.state.user}\n                onChange={this.onChangeUser}\n                name=\"user\"\n              />\n            </li>\n\n            \n              <li className=\"form-group\">\n                <label htmlFor=\"products_price\">Avatar</label>\n                {/* <img className=\"avatar-image\" src={\"http://localhost:8080/\" + this.state.avatar} alt={this.state.avatar}></img> */}\n                <input className=\"avatarfile\" type=\"file\" onChange={this.fileSelectedHandler}></input>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"products_image\"\n                  value={this.state.avatar}\n                  onChange={this.onChangepAvatar}\n                />\n              </li>\n\n\n            <li className=\"form-group\">\n              <label htmlFor=\"email\">Email</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"email\"\n                required\n                value={this.state.email}\n                onChange={this.onChangeEmail}\n                name=\"email\"\n              />\n            </li>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"users_password\">Password</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"users_password\"\n                required\n                value={this.state.users_password}\n                onChange={this.onChangeUsers_Password}\n                name=\"users_password\"\n              />\n            </div>\n\n\n            { this.props.currUser.userInfo ? ( this.props.currUser.userInfo.isadmin === 0 ?\n                <div className=\"form-group\">\n                <label htmlFor=\"isadmin\">Admin or Regular</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"isadmin\"\n                  required\n                  value={this.state.isadmin}\n                  onChange={this.onChangeIsAdmin}\n                  name=\"isadmin\"\n                />\n              </div>        \n                  : null ) : null\n              }\n\n            \n\n\n\n            <button onClick={this.saveUser} className=\"btn btn-primary\">\n              Submit\n            </button>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log('userSignin trong App.js ' + JSON.stringify(state.userSignin));\n  \n  return {\n      // currUser: state.userSignin.userInfo  //8/3 tam doi ve userSignin\n      currUser: state.userSignin\n  }\n}\n\n\nexport default connect(mapStateToProps, null)(AddUser);","import axios from 'axios';\r\n\r\n\r\n// thay vi nhot trong http-common dem ra day cho de nhin va chinh header\r\nconst API_URL = 'http://localhost:8080/api/';\r\n\r\nclass myUtility  {\r\n    \r\n    uploadFiles(folder, myFile) {\r\n\r\n        const fd = new FormData();\r\n\r\n        // neu co chon file hinh de upload thi moi chay khuc upload nay\r\n        console.log('file duoc chon la ' + myFile);\r\n        if (myFile) {\r\n            fd.append(folder, myFile);\r\n            console.log(\"ten file se up la \" + myFile.name);\r\n            \r\n            // tat ca cac function tren backend deu bat dau la localhost:8080/api\r\n            // con dieu do qui dinh o dau thi khong biet luon\r\n            axios({\r\n                url: \"http://localhost:8080/api/\" + folder,\r\n                method: \"post\",\r\n                data: fd,\r\n            }).then(res => {\r\n                console.log('file upload result: ' + res.statusText);\r\n            }).catch(e => {\r\n              console.log(e);\r\n            })\r\n          }\r\n\r\n    }\r\n    \r\n//   getAll(currentPage,search_keyword) {\r\n    \r\n//     const userInfo = Cookie.getJSON('userInfo') || null;\r\n//     const token = userInfo.token;    \r\n    \r\n//     console.log('get all users here limit ' + currentPage) ;\r\n\r\n//     return axios.get(\r\n//       API_URL + `users/${currentPage}?search_keyword=${search_keyword}`,\r\n//       { headers: {'Authorization': `Bearer ${token}` }}\r\n//       );\r\n//   }\r\n\r\n//   get(id) {\r\n//     console.log('lay 1 user ' + id);\r\n//     return axios.get(API_URL + `/user/${id}`);\r\n//   }\r\n\r\n\r\n}\r\n\r\nexport default new myUtility();","import React, { Component } from \"react\";\nimport userDataService from \"../services/user.service\";\nimport axios from \"axios\";\nimport myUtility from \"../utils/utility\";\nimport { userLogoutFetch } from '../actions/userActions';\nimport { connect } from 'react-redux';\n\n\nclass UserProfile extends Component {\n    constructor(props) {\n      super(props);\n      this.onChangeUser = this.onChangeUser.bind(this);\n      this.onChangePassword = this.onChangePassword.bind(this);\n      this.onChangeEmail = this.onChangeEmail.bind(this);\n      this.fileSelectedHandler = this.fileSelectedHandler.bind(this);\n      \n      this.getUser = this.getUser.bind(this);\n      this.updateIsAdmin_status = this.updateIsAdmin_status.bind(this);\n      this.updateUser = this.updateUser.bind(this);\n      // this.deleteUser = this.deleteUser.bind(this);\n\n      this.state = {\n          loading: null,\n          userInfo: null,\n          currentUser: {\n            id: null,\n            user: '',\n            password: '',\n            token: '',\n            isadmin: 0\n          },\n          message: \"\",\n          selectedFile: null,\n          // user: '',\n          // email: '',\n          // password: '',\n          // isadmin: 0,\n          error: null\n      };\n  }\n\n  componentDidMount() {\n\n    console.log('hi profilet diMount');\n    if (this.props.currUser === null) {\n      this.props.history.push(\"/signin\");\n    }\n    else {\n      console.log('params ' + this.props.match.params.id);\n      console.log('params ' + this.props.currUser.userInfo.id);\n      this.getUser(this.props.match.params.id);\n\n      // this.getUser(this.props.currUser.userInfo.id);\n    }\n  }\n\n  onChangeUser(e) {\n    const user = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentUser: {\n          ...prevState.currentUser,\n          user: user\n        }\n      };\n    });\n  }\n\n  \n  onChangeEmail(e) {\n    // const name = e.target.name;\n    // const value = e.target.value;\n    const email = e.target.value;\n    console.log('email moi ' +  email);\n    this.setState(function(prevState) {\n      return {\n        currentUser: {\n          ...prevState.currentUser,\n          email: email\n        }\n      };\n    });\n    console.log('new user ' + JSON.stringify(this.state.currentUser));\n  }\n\n  onChangePassword(e) {\n    // const name = e.target.name;\n    // const value = e.target.value;\n    const password = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentUser: {\n          ...prevState.currentUser,\n          password: password\n        }\n      };\n    });\n  }\n\n  getUser(id) {\n    console.log('user id trg getUser: ' + id);\n    userDataService.get(id)\n      .then(response => {\n        this.setState({\n          currentUser: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  updateIsAdmin_status(isadmin) {\n    console.log('isadmin old ' + isadmin);\n    var data = {\n      id: this.state.currentUser.id,\n      user: this.state.currentUser.user,\n      avatar: this.state.currentUser.avatar,\n      password: this.state.currentUser.password,\n      email: this.state.currentUser.email,\n      isadmin: isadmin\n    };\n    console.log('isadmin new ' + data.isadmin);\n\n    userDataService.update(this.state.currentUser.id, data)\n      .then(response => {\n        this.setState(prevState => ({\n          currentUser: {\n            ...prevState.currentUser,\n            isadmin: isadmin\n          }\n        }));\n        console.log('Role updated ' + response.data);\n        this.setState({\n          message: \"The User's role was updated successfully!\"\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n\n  fileSelectedHandler = event => {\n    const avatar = event.target.files[0].name\n    \n    this.setState({\n      selectedFile: event.target.files[0],\n    })\n    \n    // --- update trong phan state.* rieng, phan state.currentTrade (la object trong state) rieng\n    this.setState(function(prevState) {\n      return {\n        currentUser: {\n          ...prevState.currentUser,\n          avatar: \"../avatars/\" + avatar,\n        }\n      };\n    });\n    // --- update trong phan state.* rieng, phan state.currentTrade (la object trong state) rieng\n\n  }\n\n  //works great 6/26/2020\n  updateUser() {\n    \n    //console.log('CAT id trong update: ' + this.state.currentUser.id);\n    userDataService.update(\n      this.state.currentUser.id,\n      this.state.currentUser\n    )\n      .then(response => {\n        // Sequelize xong\n        console.log('user updated ' + response.data);\n        this.setState({\n          message: \"The User was updated successfully!\"\n        });\n\n        // Xu ly tiep phan upload file\n        myUtility.uploadFiles(\"upfileAvatars\", this.state.selectedFile);\n\n        // const fd = new FormData();\n\n        // // neu co chon file hinh de upload thi moi chay khuc upload nay\n        // if (this.state.selectedFile) {\n        //     fd.append(\"upfileAvatars\", this.state.selectedFile);\n        //     console.log(\"ten file se up la \" + this.state.selectedFile.name);\n          \n        //     // tat ca cac function tren backend deu bat dau la localhost:8080/api\n        //     // con dieu do qui dinh o dau thi khong biet luon\n        //     axios({\n        //         url: \"http://localhost:8080/api/upfileAvatars\",\n        //         method: \"post\",\n        //         data: fd,\n        //     }).then(res => {\n        //         console.log('file upload result: ' + res.statusText);\n        //     }).catch(e => {\n        //       console.log(e);\n        //     })\n        //   }\n\n\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  // works great 6/26/2020\n  // nhung da xoa button roi vi delete trong day co ve khong hop ly\n  // deleteUser() {  \n  //   //console.log('vo delete func   :  ' + this.state.currentUser.id);  \n  //   const users_id = this.state.currentUser.id;\n\n  //   userDataService.delete(this.state.currentUser.id)\n  //     .then(response => {\n  //       console.log(response.data);\n        \n  //       this.props.history.push('/')\n  //     })\n  //     .catch(e => {\n  //       console.log(e);\n  //     });\n  // }\n\n  logoutHandler = (e) => {\n    e.preventDefault();\n    // dispatch(userLoginFetch(this.state.user, this.state.password));\n    // this.props.userLogoutFetch(this.state.user,this.state.password);\n    this.props.userLogoutFetch();\n    this.props.history.push(\"/\");\n  }\n\n  render() {\n    const { currentUser } = this.state;\n\n    return (\n      <div className=\"profile-info\">\n      <div className=\"form\">\n        {/* <form onSubmit={this.submitHandler} > */}\n        <form >\n          <ul className=\"form-container\">\n            {\n              (this.props.match.params.id == this.props.currUser.userInfo.id) && \n            <li>\n              <button type=\"button\" onClick={this.logoutHandler} className=\"btn-block btn-danger\">Logout</button>\n            </li>\n            }\n            \n            <li>\n              <h2>User Profile  \n              </h2>\n              {/* avatars folder is the same level of app folder */}\n              <img className=\"avatar-image\" src={\"http://localhost:8080/\" + currentUser.avatar} alt={currentUser.avatar}></img>\n              \n            </li>\n            <li>\n              {this.state.loading && <div>Loading...</div>}\n              {this.state.error && <div>{this.state.error}</div>}\n              {this.state.message && <div>{this.state.message}</div>}\n            </li>\n            <li>\n              <label htmlFor=\"name\">\n                Name\n              </label>\n              <input value={currentUser.user} type=\"user\" name=\"user\" id=\"user\" onChange={(e) => this.onChangeUser(e)}>\n              </input>\n            </li>\n\n\n            <li className=\"form-group\">\n                <label htmlFor=\"products_price\">Avatar</label>\n                {/* <img className=\"avatar-image\" src={\"http://localhost:8080/\" + this.state.avatar} alt={this.state.avatar}></img> */}\n                <input className=\"avatarfile\" type=\"file\" onChange={this.fileSelectedHandler}></input>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"products_image\"\n                  value={this.state.avatar}\n                  onChange={this.onChangepAvatar}\n                />\n            </li>\n\n\n            <li>\n              <label htmlFor=\"email\">\n                Email\n              </label>\n              <input value={currentUser.email} type=\"\" name=\"email\" id=\"email\" onChange={(e) => this.onChangeEmail(e)}>\n              </input>\n            </li>\n\n            <li>\n              <label htmlFor=\"password\">Password</label>\n              <input value={currentUser.password} type=\"\" id=\"password\" name=\"password\" onChange={(e) => this.onChangePassword(e)}>\n              </input>\n            </li>\n\n            <li>\n                <label>\n                  <strong>Status: </strong>\n                  {currentUser.isadmin ? \"Regular\" : \"Admin\"}\n                </label>\n                \n            </li>\n            <li>\n                {/* nut status update nay de hoc hoi cho vui chu hong co khac biet gi ro rang voi cac field khac */}\n                {currentUser.isadmin ? (\n                  <button\n                    className=\"btn badge-primary\"\n                    onClick={() => this.updateIsAdmin_status(0)}\n                  > Change to Admin Role\n                  </button>\n                ) : (\n                  <button\n                    className=\"btn btn-info\"\n                    onClick={() => this.updateIsAdmin_status(1)}\n                  > Change to Regular User\n                  </button>\n                )}\n            </li>\n            <li>\n              <button type=\"button\"  onClick={this.updateUser} className=\"btn-block btn-success\">Update</button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  userLogoutFetch: () => dispatch(userLogoutFetch())\n})\nconst mapStateToProps = (state, ownProps) => {\n  console.log('userSignin trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin));\n  // console.log('ID  trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin.userInfo.id));\n  // console.log('token  trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin.userInfo.token));\n  \n  return {\n      currUser: state.userSignin\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfile);\n\n","import React, { Component } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { userLoginFetch } from '../actions/userActions';\nimport { connect } from 'react-redux';\n\n\nclass SigninScreen extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        redirect: '',\n          loading: null,\n          error: null,\n          userInfo: null,\n          user:'',\n          email:'',\n          password:''\n      }\n  }\n  \n  isChange = (event) => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n          [name]: value\n      });\n  }\n  \n  // thu thoi, chay roi 07132020\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.currUser) {\n      const redirect = this.props.location.search ? this.props.location.search.split(\"=\")[1] : '/'\n      console.log('this.props.location.search: ' + this.props.location.search); //?redirecting=shipping\n      console.log('Will Mount thi redirect la gi ta: ' + redirect);\n      // this.props.history.push(redirect);   // to sign-in before process cart\n      this.props.history.push(\"/userProfile/\" + nextProps.currUser.id);\n    }\n  }\n\n  componentDidMount() {\n      console.log('useInfo trong signin, phan DiMount ' + JSON.stringify(this.props.currUser));\n      \n      const redirect = this.props.location.search ? this.props.location.search.split(\"=\")[1] : '/'\n      console.log('this.props.location.search: ' + this.props.location.search); //?redirecting=shipping\n      console.log('DiMount thi redirect la gi ta: ' + redirect);\n      \n\n      if (this.props.currUser) {\n        console.log('currUser tuc la login roi' + JSON.stringify(this.props.currUser));\n        this.props.history.push(redirect);   // to sign-in before process cart\n        // this.props.history.push(\"/\"); // for testing new app\n      }      \n  }\n\n  submitHandler = (e) => {\n    console.log('submit login ne');\n    e.preventDefault();\n    // dispatch(userLoginFetch(this.state.user, this.state.password));\n    this.props.userLoginFetch(this.state.user,this.state.password);\n    console.log('con khong ta');\n    // this.props.history.push(\"/\"); // for testing new app\n  }\n\nrender() {\n  return (\n  <div className=\"form\">\n    <form onSubmit={(e) => this.submitHandler(e)}>\n      <ul className=\"form-container\">\n        <li>\n          <h2>Sign-In</h2>\n        </li>\n        <li>\n          {this.state.loading && <div>Loading...</div>}\n          {!this.props.currUser && <div>{this.props.currError.error}</div>}\n          {/* {!this.props.currUser.userInfo && <div>{this.props.currUser.error}</div>} */}\n        </li>\n        <li>\n          <label htmlFor=\"email\">\n            Username\n          </label>\n          <input name=\"user\" id=\"user\" onChange={(e) => this.isChange(e)}>\n          </input>\n        </li>\n        <li>\n          <label htmlFor=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" name=\"password\" onChange={(e) => this.isChange(e)}>\n          </input>\n        </li>\n        <li>\n          <button type=\"submit\" className=\"btn btn-primary\">Signin</button>\n        </li>\n        <li>\n          <Link to=\"/adduser\">New to DD Shopping?</Link>\n        </li>\n        <li>\n          {/* <Link to={redirect === \"/\" ? \"register\" : \"register?redirect=\" + redirect} className=\"button secondary text-center\" >Create your amazona account</Link> */}\n        </li>\n      </ul>\n    </form>\n  </div>\n  )  \n}\n}\n\nconst mapDispatchToProps = dispatch => ({\n  userLoginFetch: (user,password) => dispatch(userLoginFetch(user,password))\n})\nconst mapStateToProps = (state, ownProps) => {\n  console.log('userSignin trong Signin phan mapstatetoprops' + JSON.stringify(state.userSignin));\n  console.log('userInfo trong Signin phan mapstatetoprops' + JSON.stringify(state.userSignin.userInfo));\n  \n  return {\n      currUser: state.userSignin.userInfo,\n      currError: state.userSignin\n  }\n  \n}\nexport default connect(mapStateToProps, mapDispatchToProps)(SigninScreen);\n\n// export default SigninScreen;","import axios from 'axios';\n// import authHeader from './auth-header';\n// import http from \"../http-common\";\nimport Cookie from 'js-cookie';\n\n// thay vi nhot trong http-common dem ra day cho de nhin va chinh header\nconst API_URL = 'http://localhost:8080/api/';\n\nclass dailystockDataService {\n\n  \n  delete(transaction_id) {\n    // const userInfo = Cookie.getJSON('userInfo') || null;\n    // const token = userInfo.token;\n    // return axios.delete(API_URL + `/dailystocks/${transaction_id}`,\n    // { headers: {'Authorization': `Bearer ${token}` }}\n    // );\n    return axios.delete(API_URL + `/dailystock/${transaction_id}`);\n  }\n\n  getAll(currentPage,search_keyword) {\n    console.log('get all transactions here limit ' + currentPage) ;\n    return axios.get(API_URL + `dailystocks/${currentPage}?search_keyword=${search_keyword}`);\n  }\n\n  getAllSymbol() {\n    return axios.get(API_URL + `/symbolcodelist`);\n  }\n\n  get(id) {\n    console.log('lay 1 record khg xuyt' + id);\n    return axios.get(API_URL + `dailystock/${id}`);\n  }\n\n  \n\n  builkCreate(data) {\n    console.log('vo day chua ta BULK ' + JSON.stringify(data));\n    return axios.post(API_URL + `bulkdailystocks`, data);\n  }\n\n  create(data) {\n    console.log('hihi add new transction in service ' + JSON.stringify(data));\n    return axios.post(API_URL + `dailystock`, data);\n  }\n\n  update(transaction_id, data) {\n    // const userInfo = Cookie.getJSON('userInfo') || null;\n    // const token = userInfo.token;\n    console.log('user in service:  ' + JSON.stringify(data));\n    return axios.put(API_URL + `/dailystock/${transaction_id}`, data);\n    // return axios.put(API_URL + `/dailystock/${transaction_id}`, data,\n    // { headers: {'Authorization': `Bearer ${token}` }}\n    // );\n  }\n  \n  findByKeyword(search_keyword) {\n    console.log('hi search name');\n    return axios.get(API_URL + `/users?search_keyword=${search_keyword}`);\n  }\n\n  findByusers_name(users_name) {\n    return axios.get(API_URL + `/users?users_name=${users_name}`);\n  }\n\n  // deleteAll() {\n  //   return http.delete(`/users`);\n  // }\n\n}\n\nexport default new dailystockDataService();","import React, { Component } from 'react';\r\nimport csv from 'csv';\r\nimport dailystockDataService from \"../services/dailystock.service\";\r\n\r\n\r\nclass ImportCSV extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fileSelectedHandler = this.fileSelectedHandler.bind(this);\r\n        // this.finalTransaction = this.finalTransaction.bind(this);\r\n        this.playIt = this.playIt.bind(this);\r\n        this.handleSelectItem = this.handleSelectItem.bind(this);\r\n        // this.getSelected = this.getSelected.bind(this);\r\n        this.onDeleted = this.onDeleted.bind(this);\r\n  \r\n        this.state = {\r\n            isShiftDown: false,\r\n            selectedItems: [],\r\n            lastSelectedItem: null,\r\n            checkedBoxes: [],\r\n            transaction1: [],\r\n            finalTransaction: [],\r\n            importTransaction: [],\r\n            loading: null,\r\n            userInfo: null,\r\n            message: \"\",\r\n            selectedFile: null,\r\n            error: null\r\n        };\r\n    }\r\n\r\n\r\n    onDeleted(){\r\n      let newTransaction2 = [...this.state.finalTransaction]\r\n\r\n      // var arr = Object.keys(selectedObj).map(function (i) {\r\n      //   return selectedObj[i];\r\n      // });\r\n      let selectedArray = this.state.selectedItems\r\n      \r\n      console.log('ban dau ' + JSON.stringify(newTransaction2));\r\n      \r\n      var importArray = newTransaction2.filter((item) => selectedArray.includes(item.tid))\r\n\r\n      console.log('import array ' + JSON.stringify(importArray) );\r\n\r\n      this.setState({\r\n        importTransaction: importArray\r\n      })  // chi de show ra man hinh cho vui o phan render\r\n\r\n      this.saveTransaction(importArray);\r\n\r\n    }\r\n\r\n    saveTransaction(importArr) {\r\n      console.log('vo Transaction save');\r\n      dailystockDataService.builkCreate(importArr)\r\n        .then(response => {\r\n          console.log('new bulk : ' + JSON.stringify(response.data));\r\n          // this.setState({\r\n          //   message: \"New bulk: \" + data + \" has just created sucessfully!\",\r\n          // })\r\n          })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n  \r\n    }\r\n  \r\n\r\n    SelectAll() {\r\n      var arr = []\r\n      \r\n      console.log('arr ' + arr);\r\n  \r\n      this.state.customers.map(item => {\r\n        // this.allSelectItem(item.id)\r\n        arr.push(item.id.toString())\r\n      })\r\n      console.log('duyet tung em ' + arr);\r\n      this.setState({\r\n        selectedItems: arr\r\n      })\r\n  \r\n      console.log('aaaaa  ' + this.state.selectedItems);\r\n  \r\n    }\r\n  \r\n    unSelectAll() {\r\n      this.setState({\r\n        selectedItems: []\r\n      }, function() {\r\n        console.log('Unselect All ' + this.state.selectedItems);\r\n      }\r\n      );\r\n    }\r\n\r\n    handleSelectItem(e) {\r\n      let newTransaction3 = [...this.state.finalTransaction]\r\n      const { value } = e.target;\r\n\r\n      // Bi quyet vu duyet array selectedItem la ham Number nay day!!!\r\n      const nextValue = this.getNextValue(Number(value));\r\n      // Bi quyet vu duyet array selectedItem la ham Number nay day!!!\r\n    \r\n      this.setState({ \r\n        selectedItems: nextValue,   // van giu gia tri cua trong array\r\n        lastSelectedItem: value     // them value vao array\r\n      }, function () {\r\n        console.log('test ' + this.state.selectedItems);\r\n      });\r\n\r\n    }\r\n\r\n    getNextValue(value) {\r\n      const { isShiftDown, selectedItems } = this.state;\r\n      const hasBeenSelected = !selectedItems.includes(value);\r\n    \r\n      if (isShiftDown) {\r\n        const newSelectedItems = this.getNewSelectedItems(value);\r\n        // de-dupe the array using a Set\r\n        const selections = [...new Set([...selectedItems, ...newSelectedItems])];\r\n    \r\n        if (!hasBeenSelected) {\r\n          return selections.filter(item => !newSelectedItems.includes(item));\r\n        }\r\n    \r\n        return selections;\r\n      }\r\n      \r\n    // if it's already in there, remove it, otherwise append it\r\n    return selectedItems.includes(value)\r\n    ? selectedItems.filter(item => item !== value)\r\n    : [...selectedItems, value];\r\n\r\n    }\r\n\r\n    playIt () {\r\n      let final = [];\r\n      let newTransaction2 = [...this.state.transaction1]\r\n      this.state.transaction1.map((t_scan1, index) => {\r\n        //t_scan1.ttype.includes(\"To Cover\")\r\n        if (  (t_scan1.ttype.includes(\"Sold\") && !t_scan1.ttype.includes(\"Short\")  ) || t_scan1.ttype.includes(\"Bought To Cover\") ) {\r\n\r\n                console.log('T1 ' + t_scan1.tid + \" - \" + t_scan1.symbol + \", price: \" + t_scan1.ttype);\r\n                // console.log('T2 before ' + JSON.stringify(newTransaction2));\r\n              if (t_scan1.ttype.includes(\"Bought To Cover\")) {\r\n                var fistFoundArray = newTransaction2\r\n                  .filter(t_scan2 => t_scan2.symbol === (t_scan1.symbol) && \r\n                  t_scan2.ttype !== t_scan1.ttype && t_scan2.checked === 0 &&\r\n                  t_scan2.ttype.includes(\"Sold Short\") )[0]\r\n              } else if (t_scan1.ttype.includes(\"Sold\")) {\r\n                var fistFoundArray = newTransaction2\r\n                  .filter(t_scan2 => t_scan2.symbol === (t_scan1.symbol) && \r\n                  t_scan2.ttype !== t_scan1.ttype && t_scan2.checked === 0 &&\r\n                  t_scan2.ttype.includes(\"Bought\") )[0]\r\n              }\r\n                \r\n\r\n                if (fistFoundArray) {\r\n                  var idFound = fistFoundArray.tid-1\r\n                  console.log('first found ' + JSON.stringify(fistFoundArray));\r\n\r\n                  newTransaction2[idFound] = {...newTransaction2[idFound], checked:1}\r\n                  newTransaction2[t_scan1.tid-1] = {...newTransaction2[t_scan1.tid-1], checked:1}\r\n\r\n                  console.log('truoc khi conver ' + (fistFoundArray.price));\r\n                  var ttt = fistFoundArray.price.toString()\r\n                  console.log('sau khi conver ' + Number(ttt));\r\n\r\n                  const newT  = { \r\n                    \"tid\": fistFoundArray.tid, \r\n                    \"title\": fistFoundArray.ttype , \r\n                    \"symbolcode\": fistFoundArray.symbol,\r\n                    \"entrypoint\": parseFloat(fistFoundArray.price),\r\n                    \"exitpoint\": parseFloat(t_scan1.price),\r\n                    \"qty\": parseFloat(t_scan1.qty),\r\n                    \"b_image\": \"ComingSoon.jpg\",\r\n                    \"timeframe\": \"5 min\",\r\n                    \"buyshort\": (t_scan1.ttype.includes(\"Cover\"))?2:1,\r\n                    \"import\": 0\r\n                };\r\n                final.push(newT);\r\n                }\r\n          }\r\n      });\r\n      \r\n      console.log('final '+ JSON.stringify(final));\r\n      this.setState({\r\n        finalTransaction: final\r\n      })\r\n      console.log('final '+ JSON.stringify(this.state.finalTransaction));\r\n      \r\n    }\r\n\r\n    fileSelectedHandler = event => {\r\n      const file = event.target.files[0]\r\n      console.log('file SMALL selected handler ' + JSON.stringify(file));\r\n\r\n      // var file = this.state.selectedFile;\r\n      console.log('file duoc lua la ' + file);\r\n      const reader = new FileReader();\r\n      reader.readAsText(file);\r\n      var userList1 = [];\r\n      reader.onload = () => {\r\n        csv.parse(reader.result, (err, data) => {\r\n            // Tinh tu 1, bo dong header la 0\r\n            for (var i = 1; i < data.length; i++) {\r\n                const newUser = { \r\n                    \"tid\": i,\r\n                    \"tdate\": data[i][0], \r\n                    \"ttype\": data[i][1],\r\n                    \"symbol\": data[i][2],\r\n                    \"qty\": parseFloat(data[i][3]),\r\n                    \"price\": parseFloat(data[i][4]),\r\n                    \"checked\": 0\r\n                };\r\n                userList1.push(newUser);\r\n            };\r\n            this.setState({\r\n                transaction1: userList1\r\n            })\r\n          });\r\n      }\r\n  }\r\n\r\n  render() {\r\n\r\n    const wellStyles = { maxWidth: 400, margin: '0 auto 10px' };\r\n    const fontSize = 5;\r\n\r\n    const { trans } = this.state.finalTransaction;\r\n\r\n    return (\r\n      <div align=\"center\" className=\"form-group\">\r\n        <br /><br /><br />\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"products_price\">CSV file</label>\r\n                <input className=\"avatarfile\" type=\"file\" onChange={this.fileSelectedHandler}></input>\r\n            </div>\r\n\r\n            <button onClick={this.playIt} className=\"btn btn-primary\">\r\n              Play It Now\r\n            </button>\r\n\r\n            <div className=\"list-group\">\r\n                { \r\n                this.state.finalTransaction.map((transaction, index) => (\r\n\r\n                    <div className=\"a\" key={index}>\r\n                      <input className=\"checkbox-dd\"\r\n                                    onChange={this.handleSelectItem}\r\n                                    type=\"checkbox\"\r\n                                    // checked={selectedItems.includes(index.toString())}  //\r\n                                    value={transaction.tid}\r\n                                    id={`item-${index}`}\r\n                      />\r\n                      {transaction.tid + \". \"} \r\n                      {transaction.title + \" - \"} \r\n                      {transaction.buyshort + \" qty = \"}\r\n                      {transaction.qty}\r\n                      {\" Entry: \" + transaction.entrypoint}\r\n                      {\" Exit: \" + transaction.exitpoint}\r\n                    </div>\r\n                  ))}\r\n                    <button className=\"btn btn-danger\" onClick={this.onDeleted}>\r\n                        Delete Selected\r\n                      </button>\r\n              </div>\r\n\r\n\r\n              <div className=\"list-group\">\r\n                { \r\n                this.state.importTransaction.map((itransaction, index) => (\r\n\r\n                    <div className=\"a\" key={index}>\r\n                      {itransaction.tid + \". \"} \r\n                      {itransaction.title + \" - \"} \r\n                      {itransaction.buyshort + \" qty = \"}\r\n                      {itransaction.qty}\r\n                      {\" Entry: \" + itransaction.entrypoint}\r\n                      {\" Exit: \" + itransaction.exitpoint}\r\n                    </div>\r\n                    \r\n                  ))}\r\n                    <button className=\"btn-inline btn-success\">\r\n                       {/* onClick={this.onImportClick() */}\r\n                      IMPORT\r\n                    </button>                    \r\n              </div>\r\n\r\n\r\n              \r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ImportCSV;\r\n","import React, { Component } from \"react\";\r\nimport { userLogoutFetch } from '../actions/userActions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass UnderConstruction extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      // this.onChangeUser = this.onChangeUser.bind(this);\r\n      // this.onChangePassword = this.onChangePassword.bind(this);\r\n\r\n      this.state = {\r\n          isadmin: 1\r\n      };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n  }\r\n\r\n  \r\n  logoutHandler = (e) => {\r\n    e.preventDefault();\r\n    // dispatch(userLoginFetch(this.state.user, this.state.password));\r\n    // this.props.userLogoutFetch(this.state.user,this.state.password);\r\n    this.props.userLogoutFetch();\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  render() {\r\n    const { currentUser } = this.state;\r\n\r\n    return (\r\n      <div className=\"profile-info\">\r\n      <div className=\"form\">\r\n          This page is under construction - level 1.\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  userLogoutFetch: () => dispatch(userLogoutFetch())\r\n})\r\nconst mapStateToProps = (state, ownProps) => {\r\n  console.log('userSignin trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin));\r\n  // console.log('ID  trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin.userInfo.id));\r\n  // console.log('token  trong Profile phan mapstatetoprops' + JSON.stringify(state.userSignin.userInfo.token));\r\n  \r\n  return {\r\n      currUser: state.userSignin\r\n  }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UnderConstruction);\r\n\r\n","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport dailystockDataService from \"../services/dailystock.service\";\r\nimport myUtility from \"../utils/utility\";\r\nimport {NavLink, Link  } from \"react-router-dom\";\r\n\r\nclass EditTrade extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentTrade: {} ,\r\n            showForm: false,\r\n            showAddButton: false,\r\n            showEditButton: false,\r\n            showDeleteButton: false,\r\n            selectedFile: null,\r\n            selectedBigFile: null,\r\n            myTag: ''\r\n        }\r\n\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeSymbolcode = this.onChangeSymbolcode.bind(this);\r\n        this.onChangeQty = this.onChangeQty.bind(this);\r\n        this.onChangeEntryPoint = this.onChangeEntryPoint.bind(this);\r\n        this.onChangeExitPoint = this.onChangeExitPoint.bind(this);\r\n        this.onChangeStocolor = this.onChangeStocolor.bind(this);\r\n        this.onChangeRsicolor = this.onChangeRsicolor.bind(this);\r\n        this.onChangeMacdcolor = this.onChangeMacdcolor.bind(this);\r\n        this.onChangeMacd_htfcolor = this.onChangeMacd_htfcolor.bind(this);\r\n        this.onChangeBuyShort = this.onChangeBuyShort.bind(this);\r\n        this.onChangeTimeframe = this.onChangeTimeframe.bind(this);\r\n        this.onChangeS_image = this.onChangeS_image.bind(this);\r\n        this.onChangeB_image = this.onChangeB_image.bind(this);\r\n        this.fileBigSelectedHandler = this.fileBigSelectedHandler.bind(this);\r\n        this.fileSelectedHandler = this.fileSelectedHandler.bind(this);\r\n        \r\n    }\r\n    \r\n    //WARNING! To be deprecated in React v17. Use componentDidMount instead.\r\n    componentWillMount() {\r\n        console.log('EDIT TRADE param  :' + parseInt(this.props.match.params.id));   // co param id roi\r\n        this.getTradeData(parseInt(this.props.match.params.id));\r\n    }\r\n\r\n    getTradeData(id) {\r\n        console.log('transaction id trg edit Trade: ' + id);\r\n        dailystockDataService.get(id)\r\n          .then(response => {\r\n            this.setState({\r\n                currentTrade: response.data\r\n            });\r\n            console.log(response.data);\r\n            console.log('this state currentTrade ' + this.state.currentTrade);\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    }\r\n\r\n    backToTradingList (){\r\n      const redirect = this.props.location.search ? this.props.location.search.split(\"=\")[1] : '/'\r\n      this.props.history.push(\"/dailystocks/1?searchKeyword=\");\r\n    }\r\n\r\n    updateTrade() {\r\n      dailystockDataService.update(\r\n        this.state.currentTrade.id,\r\n        this.state.currentTrade\r\n      )\r\n      .then(response => {\r\n        // Sequelize xong\r\n        console.log('Transaction updated ' + response.data);\r\n        this.setState({\r\n          message: \"Transaction was updated successfully!\"\r\n        });\r\n\r\n            // Xu ly tiep phan upload file\r\n            myUtility.uploadFiles(\"upfileUploads\", this.state.selectedFile);\r\n            myUtility.uploadFiles(\"upfileUploads\", this.state.selectedBigFile);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  fileSelectedHandler = event => {\r\n    const s_image = event.target.files[0].name\r\n    const s_imageFile = event.target.files[0]\r\n    // console.log('e target file ' + event.target.files[0]);\r\n    // console.log('file SMALL selected handler ' + event.target.files[0].name);\r\n\r\n    // --- update trong phan state.* rieng, phan state.currentTrade (la object trong state) rieng\r\n    this.setState({\r\n      selectedFile: event.target.files[0],\r\n    })\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentTrade: {\r\n          ...prevState.currentTrade,\r\n          s_image: \"../uploads/\" + s_image,   // khong hieu sao o day khong xai event.target duoc\r\n        }\r\n      };\r\n    });\r\n    // --- update trong phan state.* rieng, phan state.currentTrade (la object trong state) rieng\r\n  }\r\n\r\n  \r\n  fileBigSelectedHandler = event => {\r\n    const b_image = event.target.files[0].name\r\n    this.setState({\r\n      selectedBigFile: event.target.files[0],\r\n    })\r\n    this.setState(function(prevState) {\r\n      return {\r\n        currentTrade: {\r\n          ...prevState.currentTrade,\r\n          b_image: \"../uploads/\" + b_image,\r\n        }\r\n      };\r\n    });\r\n  }\r\n\r\n    onChangeS_image(e) {\r\n        const s_image = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                s_image: s_image\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeB_image(e) {\r\n        const b_image = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                b_image: b_image\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeBuyShort(e) {\r\n        const buyshort = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                buyshort: buyshort\r\n              }\r\n            };\r\n        });\r\n    }\r\n    \r\n    onChangeStocolor(e) {\r\n        const stocolor = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                stocolor: stocolor\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeRsicolor(e) {\r\n        const rsicolor = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                rsicolor: rsicolor\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeMacdcolor(e) {\r\n        const macdcolor = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                macdcolor: macdcolor\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeMacd_htfcolor(e) {\r\n        const macd_htf = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                macd_htf: macd_htf\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeTimeframe(e) {\r\n        const timeframe = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                timeframe: timeframe\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeQty(e) {\r\n        const qty = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                qty: qty\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeEntryPoint(e) {\r\n        const entrypoint = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                entrypoint: entrypoint\r\n              }\r\n            };\r\n        });\r\n    }\r\n    \r\n    onChangeExitPoint(e) {\r\n        const exitpoint = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                exitpoint: exitpoint\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeSymbolcode(e) {\r\n        const symbolcode = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                symbolcode: symbolcode\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeTitle(e) {\r\n        const title = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                title: title\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    onChangeEmail(e) {\r\n        const email = e.target.value\r\n        this.setState(function(prevState) {\r\n            return {\r\n              currentTrade: {\r\n                ...prevState.currentTrade,\r\n                email: email\r\n              }\r\n            };\r\n        });\r\n    }\r\n\r\n    translateIndicatorColor = (color) =>\r\n    {\r\n        var strColor = '';\r\n        if (color === \"1\") {\r\n            strColor = \" Green\"\r\n        } else if (color === \"2\") {\r\n            strColor = \"Red\"\r\n        } else {\r\n            strColor = \"Black\"\r\n        }\r\n        \r\n        return strColor\r\n\r\n    }\r\n\r\n        \r\n    translateBuyShort = (color) =>\r\n    {\r\n        var strBSColor = [];\r\n        if (color === 1) {\r\n            strBSColor = [\"Buy\",\"Green\"]\r\n        } else if (color === 2) {\r\n            strBSColor = [\"Short\",\"Red\"]\r\n        }\r\n        \r\n        return strBSColor\r\n\r\n    }\r\n\r\nrender() {\r\n    const { currentTrade } = this.state\r\n\r\n    return (\r\n    <div className=\"card border-primary mb-3 mt-2\">\r\n        <div className=\"card-header\"><h2>Edit transaction: {this.state.currentTrade.title}</h2>\r\n            {this.state.loading && <div>Loading...</div>}\r\n            {this.state.error && <div>{this.state.error}</div>}\r\n            {this.state.message && <div>{this.state.message}</div>}\r\n            <div>\r\n              <a href=\"/dailystocks/1?searchKeyword=\">Trading List  ... </a>\r\n              <Link to=\"/dailystocks/1?searchKeyword=\" >Link to Trading List</Link>\r\n            </div>\r\n            <div className=\"card-body text-primary\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                                <div className=\"form-group\">\r\n                                <div className=\"\">Title</div>\r\n                                    <input type=\"text\" name=\"title\" className=\"form-control\" value={currentTrade.title} onChange={e => this.onChangeTitle(e)}/>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">Time frame:\r\n                                    <select id=\"timeframe\" name=\"modal-body\" onChange={e => this.onChangeTimeframe(e)} >\r\n                                        {/* <option >Select Timeframe</option> */}\r\n                                        <option selected={currentTrade.timeframe === \"5 min\"} value=\"5 min\" onChange={e => this.onChangeTimeframe(e)}>5 min</option>\r\n                                        <option selected={currentTrade.timeframe === \"15 min\"} value=\"15 min\" onChange={e => this.onChangeTimeframe(e)}>15 min</option>\r\n                                        <option selected={currentTrade.timeframe === \"1 D\"} value=\"1 D\" onChange={e => this.onChangeTimeframe(e)}>1 D</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"\">Symbol/ Quantity</div>\r\n                                    <input type=\"text\" className=\"form-check-in\" value={currentTrade.symbolcode} name=\"symbolcode\" onChange={e => this.onChangeSymbolcode(e)}/>\r\n                                    <input type=\"text\" className=\"form-check-in\" value={currentTrade.qty} name=\"qty\" onChange={e => this.onChangeQty(e)}/>units\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"\">Entry/ Exit point</div>\r\n                                    <input type=\"text\" className=\"form-check-in\" value={currentTrade.entrypoint} onChange={e => this.onChangeEntryPoint(e)}/>\r\n                                    <input type=\"text\" className=\"form-check-in\" value={currentTrade.exitpoint}  onChange={e => this.onChangeExitPoint(e)}/>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\" style={{color: this.translateBuyShort(currentTrade.buyshort)[1]}} >Action: {currentTrade.buyshort}\r\n                                    <div className=\"form-check-inline\">\r\n                                        <label className=\"label\">\r\n                                            <input type=\"radio\" value=\"1\" checked={currentTrade.buyshort === \"1\"}\r\n                                            onChange={e => this.onChangeBuyShort(e)}/>Buy\r\n                                        </label>\r\n                                        <label className=\"label\">\r\n                                            <input type=\"radio\" value=\"2\" checked={currentTrade.buyshort === \"2\"}\r\n                                            onChange={e => this.onChangeBuyShort(e)}/>Short\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Bat dau phan radio button cua 4 indicators */}\r\n\r\n                                <div style={{color: this.translateIndicatorColor(currentTrade.stocolor)}} className=\"label\">Stochastic: {currentTrade.stocolor}\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"1\" checked={currentTrade.stocolor === \"1\"}\r\n                                        onChange={e => this.onChangeStocolor(e)}/>Green\r\n                                    </label>\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"2\" checked={currentTrade.stocolor === \"2\"}\r\n                                        onChange={e => this.onChangeStocolor(e)} />Red\r\n                                    </label>\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"3\" checked={currentTrade.stocolor === \"3\"}\r\n                                        onChange={e => this.onChangeStocolor(e)}/>None\r\n                                    </label>\r\n                                </div>\r\n\r\n                                <div style={{color: this.translateIndicatorColor(currentTrade.rsicolor)}} className=\"label\">RSI: {currentTrade.rsicolor}\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"1\" checked={currentTrade.rsicolor === \"1\"}\r\n                                        onChange={e => this.onChangeRsicolor(e)}/>Green\r\n                                    </label>\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"2\" checked={currentTrade.rsicolor === \"2\"}\r\n                                        onChange={e => this.onChangeRsicolor(e)} />Red\r\n                                    </label>\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"3\" checked={currentTrade.rsicolor === \"3\"}\r\n                                        onChange={e => this.onChangeRsicolor(e)}/>None\r\n                                    </label>\r\n                                </div>\r\n\r\n                                <div style={{color: this.translateIndicatorColor(currentTrade.macdcolor)}} className=\"label\">MACD on {currentTrade.timeframe}: {currentTrade.macdcolor}\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"1\" checked={currentTrade.macdcolor === \"1\"}\r\n                                        onChange={e => this.onChangeMacdcolor(e)}/>Green\r\n                                    </label>\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"2\" checked={currentTrade.macdcolor === \"2\"}\r\n                                        onChange={e => this.onChangeMacdcolor(e)} />Red\r\n                                    </label>\r\n                                    <label className=\"label\">\r\n                                        <input type=\"radio\" value=\"3\" checked={currentTrade.macdcolor === \"3\"}\r\n                                        onChange={e => this.onChangeMacdcolor(e)}/>None\r\n                                    </label>\r\n                                </div>\r\n                                \r\n                                <div style={{color: this.translateIndicatorColor(currentTrade.macd_htf)}} className=\"label\">MACD on HTF: {currentTrade.macd_htf}\r\n                                      <label className=\"label\">\r\n                                          <input type=\"radio\" value=\"1\" checked={currentTrade.macd_htf === \"1\"}\r\n                                          onChange={e => this.onChangeMacd_htfcolor(e)}/>Green\r\n                                      </label>\r\n                                      <label className=\"label\">\r\n                                          <input type=\"radio\" value=\"2\" checked={currentTrade.macd_htf === \"2\"}\r\n                                          onChange={e => this.onChangeMacd_htfcolor(e)} />Red\r\n                                      </label>\r\n                                      <label className=\"label\">\r\n                                          <input type=\"radio\" value=\"3\" checked={currentTrade.macd_htf === \"3\"}\r\n                                          onChange={e => this.onChangeMacd_htfcolor(e)}/>None\r\n                                      </label>\r\n                                </div>\r\n                                {/* Het 4 indicator radio button */}\r\n\r\n                                <div className=\"form-group\">Edit file name of images: \r\n                                    Small image:<input type=\"text\" className=\"form-control-short\" value={currentTrade.s_image} onChange={e => this.onChangeS_image(e)}/>\r\n                                    <img width=\"30%\" src={\"/uploads/\" + currentTrade.s_image} className=\"img\"  alt=\"\" />\r\n                                    Big image:<input type=\"text\" className=\"form-control-short\" value={currentTrade.b_image} onChange={e => this.onChangeB_image(e)}/>\r\n                                    <img width=\"80%\" src={\"/uploads/\" + currentTrade.b_image} className=\"img\"  alt=\"\" />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div>or Upload new image: \r\n                                      <label>Small image\r\n                                      <input className=\"ns_image\" type=\"file\" onChange={(e) => this.fileSelectedHandler(e)}></input>\r\n                                      </label>\r\n                                      <label>Big image\r\n                                      <input className=\"nb_image\" type=\"file\" onChange={(e) => this.fileBigSelectedHandler(e)}></input>\r\n                                      </label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <button type=\"button\" className=\"btn btn-warning\" data-dismiss=\"modal\" onClick={(event) => this.updateTrade(event)}>Save Changes</button>\r\n                                    <button onClick={(event) => this.backToTradingList(event)} type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Discard</button>\r\n                                </div>\r\n\r\n                    </div>\r\n            \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n                \r\n    )\r\n    }\r\n}\r\n\r\nexport default EditTrade;\r\n\r\n","import React, { Component } from 'react';\r\nimport {Link,NavLink, Redirect} from \"react-router-dom\";\r\nimport dailystockDataService from \"../services/dailystock.service\";\r\nimport EditTrade from './edit-trade.component';\r\n\r\nclass Trade extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        data:{} ,\r\n        id:'',\r\n        selectedFile:'none',\r\n        showForm: false,\r\n        showAddButton: false,\r\n        currentuser:'',\r\n        showEditButton:false,\r\n        showDeleteButton:false\r\n        }\r\n        //this.onClick = this.onClick.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        // const cu = localStorage.getItem('user');\r\n        // if(cu !== null) {\r\n        //     this.setState({\r\n        //     currentuser: localStorage.getItem('user')\r\n        //     })\r\n        //     console.log('C-U trong trade.js   :  ' + this.state.createdby);\r\n        // }\r\n        // if(cu === this.props.createdby) {\r\n            this.setState({\r\n                showEditButton: true,\r\n                showDeleteButton: true,\r\n            })\r\n            \r\n        //     console.log('data :  ' + this.state.data);\r\n        // } \r\n    }\r\n\r\n    translateIndicatorColor = (color) =>\r\n    {\r\n        var strColor = '';\r\n        if (color == 1) {\r\n            strColor = \" Green\"\r\n        } else if (color == 2) {\r\n            strColor = \"Red\"\r\n        } else {\r\n            strColor = \"Black\"\r\n        }\r\n        \r\n        return strColor\r\n\r\n    }\r\n\r\n\r\n    // Chuan bi du lieu vao item obj de load vao modal form de edit\r\n    editTrade = () => {\r\n        console.log('edit chuan bi');\r\n        \r\n        var item={};\r\n        item.id = this.props.tradeId;\r\n        item.title = this.props.title;\r\n        item.symbolcode = this.props.symbolcode;\r\n        item.timeframe = this.props.timeframe;\r\n        item.entrypoint = this.props.entrypoint;\r\n        item.exitpoint = this.props.exitpoint;\r\n        item.buyshort = this.props.buyshort;\r\n        item.symbolcode = this.props.symbolcode;\r\n        item.stocolor = this.props.stocolor;\r\n        item.rsicolor = this.props.rsicolor;\r\n        item.macdcolor = this.props.macdcolor;\r\n        item.macd_htf = this.props.macd_htf;\r\n        item.qty = this.props.qty;\r\n        item.s_image = this.props.s_image;\r\n        item.b_image = this.props.b_image;\r\n\r\n        return item;\r\n    }\r\n    renderDeleteButton = () => {\r\n        \r\n        // keu editTrade de load du lieu vao object\r\n        const datatemp = this.editTrade; \r\n        // console.log('datatemp ' + datatemp);\r\n\r\n        return (\r\n        <div>\r\n            <div className=\"btn-group float-right\">\r\n                <button  onClick={() => { if (window.confirm('Are you sure you wish to delete this item?')) this.deleteTrade(this.props.tradeId) } } className=\"btn btn-block btn-danger\">\r\n                Delete\r\n                </button>\r\n            </div>\r\n            <div className=\"btn-group float-right\">\r\n                <Link to={\"/editTrade/\" + this.props.tradeId}\r\n                    className=\"btn btn-block btn-success\" > \r\n                    Edit\r\n                </Link>\r\n            </div>\r\n        </div>\r\n        \r\n            \r\n        )\r\n    }\r\n\r\n    //Chuyen doi van de duong link\r\n    chuyenDoiURL = (str) =>\r\n    {\r\n        // Chuyn ht sang ch thng\r\n        str = str.toLowerCase();     \r\n        \r\n        // xa du\r\n        str = str.replace(/(||||||||||||||||)/g, 'a');\r\n        str = str.replace(/(||||||||||)/g, 'e');\r\n        str = str.replace(/(||||)/g, 'i');\r\n        str = str.replace(/(||||||||||||||||)/g, 'o');\r\n        str = str.replace(/(||||||||||)/g, 'u');\r\n        str = str.replace(/(||||)/g, 'y');\r\n        str = str.replace(/()/g, 'd');\r\n        \r\n        // Xa k t c bit\r\n        str = str.replace(/([^0-9a-z-\\s])/g, '');\r\n        \r\n        // Xa khong trng thay bng k t -\r\n        str = str.replace(/(\\s+)/g, '-');\r\n        \r\n        // xa phn d -  u\r\n        str = str.replace(/^-+/g, '');\r\n        \r\n        // xa phn d -  cui\r\n        str = str.replace(/-+$/g, '');\r\n        \r\n        // return\r\n        return str;\r\n    }\r\n\r\n    translateBuyShort = (color) =>\r\n        {\r\n            var strBSColor = [];\r\n            if (color == 1) {\r\n                strBSColor = [\"Buy\",\"Green\"]\r\n            } else if (color == 2) {\r\n                strBSColor = [\"Short\",\"Red\"]\r\n            }\r\n            \r\n            return strBSColor\r\n\r\n        }\r\n\r\n    //delete function\r\n    deleteTrade = (id) => {\r\n        console.log('vo delete func   :  ' + id);\r\n        // const users_id = this.state.currentUser.id;\r\n\r\n        dailystockDataService.delete(id)\r\n        .then(response => {\r\n            console.log(response.data);\r\n        })\r\n        .catch(e => {\r\n            console.log(e);\r\n        });\r\n        // const redirect = this.props.location.search ? this.props.location.search.split(\"=\")[1] : '/'\r\n        // this.props.history.push(redirect);   // to sign-in before process cart\r\n        window.location=\"/dailystocks/1?searchKeyword=\";\r\n        \r\n    }\r\n\r\n  \r\n    render() {\r\n        return (\r\n\r\n        <div className=\"card-header col\" >\r\n                                \r\n            {/* Hinh size nho, avatar  */}\r\n            <div className=\"float-left col-3\">\r\n                <Link to={\"/tradedetail/\" + this.chuyenDoiURL(this.props.title) + \".\" + this.props.tradeId + \".html\"}>\r\n                    {/* uploads folder is the same level of app folder */}\r\n                    <img className=\"card-img-top\" src={\"http://localhost:8080/uploads/\" + this.props.s_image} alt={this.props.s_image}/></Link>\r\n            </div>\r\n    \r\n        {/* Title va cac thong tin quan trong header */}\r\n            <div className=\"float-left\">\r\n                <div>\r\n                    <Link to={\"/tradedetail/\" + this.chuyenDoiURL(this.props.title) + \".\" + this.props.tradeId + \".html\"}>{this.props.title + ' on ' + this.props.symbolcode + ', ' + this.props.timeframe}</Link>\r\n                </div>\r\n                <div>\r\n                    <b className=\" float-right\" style={{color: this.translateBuyShort(this.props.buyshort)[1]}}>\r\n                        {this.translateBuyShort(this.props.buyshort)[0]}\r\n                        <i className=\" float-right\">\r\n                            {'=> In/Out: ' + this.props.entrypoint + '/ ' + this.props.exitpoint}\r\n                        </i>\r\n                    </b>\r\n                </div>\r\n                <hr></hr>\r\n                <div>Date: {this.props.createddate}.</div>\r\n                <div>Time frame: {this.props.timeframe}.</div>\r\n                <div>Stok code: {this.props.symbolcode}. Quantity: {this.props.qty}</div>\r\n                <div><b className=\" float-left\" style={{color: this.translateBuyShort(this.props.buyshort)[1]}}>\r\n                        {this.translateBuyShort(this.props.buyshort)[0]}</b>\r\n                </div>\r\n                <div>: Entry point: {this.props.entrypoint}. Exit point {this.props.exitpoint} </div>\r\n                <div> Stochastic: <b style={{color: this.translateIndicatorColor(this.props.stocolor)}}> {this.translateIndicatorColor(this.props.stocolor)} </b> </div>\r\n                <div> RSI       : <b style={{color: this.translateIndicatorColor(this.props.rsicolor)}}> {this.translateIndicatorColor(this.props.rsicolor)} </b> </div>\r\n                <div> MACD      : <b style={{color: this.translateIndicatorColor(this.props.macdcolor)}}> {this.translateIndicatorColor(this.props.macdcolor)} </b> </div>\r\n                <div> MACD HTF  : <b style={{color: this.translateIndicatorColor(this.props.macd_htf)}}> {this.translateIndicatorColor(this.props.macd_htf)} </b> </div>\r\n                \r\n            </div>\r\n            <div className=\"float-right\">\r\n                {this.state.showDeleteButton && this.renderDeleteButton()}\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Trade;","import React, { Component } from 'react';\r\nimport '../App.css';\r\nimport Trade from './trade.component';\r\nimport {NavLink, Link  } from \"react-router-dom\";\r\nimport dailystockDataService from \"../services/dailystock.service\";\r\nimport Pagination from 'pagination-component';\r\nimport { connect } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport myUtility from \"../utils/utility\";\r\n\r\nclass tradingList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n\r\n    this.state = {\r\n      masterSymbols: [],\r\n      topFive: 5,   // lay 5 symbol hot nhat\r\n      data:null ,\r\n      title:'' ,\r\n      timeframe:'3 min',\r\n      createddate:'',\r\n      symbolcode:'',\r\n      buyshort:'1',\r\n      qty:'100',\r\n      entrypoint:'0',\r\n      exitpoint:'0',\r\n      stocolor:'1',\r\n      rsicolor:'1',\r\n      macdcolor:'1',\r\n      macd_htf:'1',\r\n      b_image: null,\r\n      s_image: null,\r\n      createdby:'',\r\n      selectedFile:'',\r\n      showForm: false,\r\n      showAddButton: true,\r\n      currentuser:'',\r\n      selectedBigFile:'',\r\n      addclosebutton:'Add New Record',\r\n      showButton:false,\r\n      postsPerPage:15,\r\n      totalPages: 1,\r\n      currentPage: 1,\r\n      currentTransaction: null,  // currentUser\r\n      currentIndex: -1,  // phan tu dau tien trong list duoc selected\r\n      searchKeyword: params.searchKeyword\r\n    }\r\n    this.onClick = this.onClick.bind(this);\r\n    this.fileBigSelectedHandler = this.fileBigSelectedHandler.bind(this);\r\n    this.fileSelectedHandler = this.fileSelectedHandler.bind(this);\r\n    this.isChange = this.isChange.bind(this);\r\n    \r\n  }\r\n  \r\n  onChangeCurrentPage(i) {\r\n    console.log('i la : ' + i);\r\n    this.setState({\r\n      currentPage: i+1\r\n    })\r\n\r\n    console.log('trang thu chinh xac :  ' + this.state.currentPage + ' hay la i+1 ' + (i+1));\r\n    this.retrieveTransactions((i+1),this.state.searchKeyword);\r\n    \r\n  }\r\n\r\n  retrieveNotMasterCategories() {\r\n    dailystockDataService.getAllSymbol()\r\n      .then(response => {\r\n        this.setState({\r\n          masterSymbols: response.data\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n      \r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log('props ' + JSON.stringify(this.props.match));\r\n    // const keyword = this.props.params.searchKeyword\r\n    // if (this.state.params.searchKeyword) {\r\n    //   this.setState({\r\n    //     searchKeyword: this.state.params.searchKeyword\r\n    //   }) \r\n    // }\r\n    // let url = this.props.location.search;\r\n    // let params = queryString.parse(url);\r\n    // let keyword = params.searchKeyword\r\n    // if (keyword) {\r\n    //   this.setState({\r\n    //     searchKeyword: keyword\r\n    //   })\r\n    // }\r\n    this.retrieveTransactions(this.state.currentPage,this.state.searchKeyword);\r\n    this.retrieveNotMasterCategories();\r\n\r\n   \r\n      // const cu = localStorage.getItem('user');\r\n      // if(cu !== null) {\r\n      //   this.setState({\r\n      //     currentuser: localStorage.getItem('user'),\r\n      //     createdby: localStorage.getItem('user'),\r\n      //     showAddButton: true,\r\n      //   })\r\n      //   console.log('C-U trong trading list:  ' + this.state.createdby);\r\n      // }\r\n\r\n    // if(this.state.data === null ){\r\n    //   getProductData().then((res)=>{\r\n    //     //console.log('res la gi  ' + res); // la data object\r\n    //     this.setState({\r\n    //       data:res\r\n    //     });\r\n    //   })\r\n    // }\r\n\r\n  }\r\n\r\n  onChangesearchKeyword(e) {\r\n    const searchKeyword = e.target.value;\r\n\r\n    this.setState({\r\n      searchKeyword: searchKeyword\r\n    });\r\n  }\r\n\r\n  retrieveTransactions(currentPage, keyword) {\r\n    console.log('key ' + this.state.searchKeyword);\r\n    dailystockDataService.getAll(currentPage,keyword)\r\n      .then(response => {\r\n        this.setState({\r\n          data: response.data.data,\r\n          totalPages: response.data.pages\r\n        });\r\n        console.log(response.data);\r\n        console.log('ket qua total pages' + response.data.pages);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  \r\n  onClick () {\r\n      this.setState({showForm: !this.state.showForm})\r\n      console.log('form ' + this.state.showForm);\r\n      if(this.state.addclosebutton === \"Add New Record\") {\r\n        this.setState({addclosebutton: \"Close\"})\r\n      } else {\r\n        this.setState({addclosebutton: \"Add New Record\"})\r\n      }\r\n  }\r\n\r\nrenderAddButton = () => {\r\n  return (\r\n    <div className=\"card border-primary mb-3 mt-2\">\r\n        <p className=\"card-body\"><button onClick={ this.onClick } className=\"btn btn-block btn-primary\">{this.state.addclosebutton}</button></p>\r\n        {/* We want to show the form if the state is true */}\r\n        {this.state.showForm && this.renderAddForm()}\r\n    </div>\r\n  )\r\n}\r\n\r\nrenderAddForm = () => {\r\n \r\n  return (\r\n    <div >\r\n        <form className=\"card-body jumbotron card-border\">\r\n            <div className=\"form-group\">\r\n                <input onChange={(event)=> this.isChange(event)} type=\"text\" className=\"form-control\" name=\"title\" id=\"title\" aria-describedby=\"name_text\" value={this.state.title} placeholder=\"Enter Title\" />\r\n            </div>\r\n            <div className=\"form-inline\">\r\n                <div className=\"form-group\">\r\n                  <label for=\"entry\">Symbol: </label>\r\n                  <input onChange={(event)=> this.isChange(event)} type=\"text\" className=\"form-inline\" name=\"symbolcode\" id=\"symbolcode\" aria-describedby=\"name_text\" placeholder=\"Enter stock symbolcode\"/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                <label for=\"entry\">Qty: </label>\r\n                  <input onChange={(event)=> this.isChange(event)} type=\"text\" className=\"form-inline\" name=\"qty\" id=\"qty\" aria-describedby=\"name_text\" placeholder=\"Enter Quantiy\" value={this.state.qty}/>\r\n                </div>\r\n            </div>\r\n            \r\n            <div className=\"form-group\">\r\n                <div className=\"form-check-inline\">\r\n                      <label className=\"form-label\"><strong>Action:</strong>\r\n                      <input onChange={(event)=> this.isActionChange(event)} value=\"1\" type=\"radio\" className=\"form-check-input\" name=\"buyshort\" defaultChecked=\"1\" />BUY\r\n                      <input onChange={(event)=> this.isActionChange(event)} value=\"2\" type=\"radio\" className=\"form-check-input\" name=\"buyshort\" />SHORT\r\n                      </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-inline \">\r\n                <div className=\"form-group\">\r\n                  <label for=\"entry\">Entry: </label>\r\n                  <input onChange={(event)=> this.isChange(event)} type=\"text\" className=\"form-inline\" name=\"entrypoint\" id=\"entrypoint\" aria-describedby=\"name_text\" placeholder=\"Entry price\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label for=\"exit\">Exit: </label>\r\n                  <input onChange={(event)=> this.isChange(event)} type=\"text\" className=\"form-inline\" name=\"exitpoint\" id=\"exitpoint\" aria-describedby=\"name_text\" placeholder=\"Exit price\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"form-group\">\r\n                Select time frame:\r\n                <select id=\"timeframe\" name=\"timeframe\" onChange={(event)=> this.isChange(event)} >\r\n                    {/* <option >Select Timeframe</option> */}\r\n                    <option selected={this.state.timeframe === \"3 min\"} value=\"5 min\">3 min</option>\r\n                    <option selected={this.state.timeframe === \"5 min\"} value=\"5 min\">5 min</option>\r\n                    <option selected={this.state.timeframe === \"15 min\"} value=\"15 min\">15 min</option>\r\n                    <option value=\"1 D\">1 D</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div className=\"col\">\r\n                <div className=\"row\">\r\n                  <div className=\"form-check-inline\">\r\n                      <label className=\"label\">Stochastic: \r\n                      <input color=\"red\" onChange={(event)=> this.isChange(event)} checked={this.state.stocolor === \"1\"} value=\"1\" type=\"radio\" className=\"label\" name=\"stocolor\"/>Green\r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.stocolor === \"2\"} value=\"2\" type=\"radio\" className=\"label\" name=\"stocolor\" />Red\r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.stocolor === \"3\"} value=\"3\" type=\"radio\" className=\"label\" name=\"stocolor\" />None\r\n                      </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"form-check-inline\">\r\n                      <label className=\"label\">RSI: \r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.rsicolor === \"1\"} value=\"1\" type=\"radio\" className=\"label\" name=\"rsicolor\" />Green\r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.rsicolor === \"2\"} value=\"2\" type=\"radio\" className=\"label\" name=\"rsicolor\" />Red\r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.rsicolor === \"3\"} value=\"3\" type=\"radio\" className=\"label\" name=\"rsicolor\" />None\r\n                      </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"form-check-inline\">\r\n                      <label className=\"label\">MACD: \r\n                      <input color=\"Green\" onChange={(event)=> this.isChange(event)} checked={this.state.macdcolor === \"1\"} value=\"1\" type=\"radio\" className=\"radio\" name=\"macdcolor\"/>Green\r\n                      <input color=\"red\" onChange={(event)=> this.isChange(event)} checked={this.state.macdcolor === \"2\"} value=\"2\" type=\"radio\" className=\"radio\" name=\"macdcolor\" />Red\r\n                      <input color=\"black\" onChange={(event)=> this.isChange(event)} checked={this.state.macdcolor === \"3\"} value=\"3\" type=\"radio\" className=\"radio\" name=\"macdcolor\" />None\r\n                      </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"form-check-inline\">\r\n                      <label className=\"label\">Macd HTF: \r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.macd_htf === \"1\"} value=\"1\" type=\"radio\" className=\"label\" name=\"macd_htf\"/>Green\r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.macd_htf === \"2\"} value=\"2\" type=\"radio\" className=\"label\" name=\"macd_htf\" />Red\r\n                      <input onChange={(event)=> this.isChange(event)} checked={this.state.macd_htf === \"3\"} value=\"3\" type=\"radio\" className=\"label\" name=\"macd_htf\" />None\r\n                      </label>\r\n                  </div>\r\n                </div>\r\n                  \r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label>Small image\r\n                <input className=\"s_image\" type=\"file\" onChange={(e) => this.fileSelectedHandler(e)}></input>\r\n                </label>\r\n                <label>Big image\r\n                <input className=\"b_image\" type=\"file\" onChange={(e) => this.fileBigSelectedHandler(e)}></input>\r\n                </label>\r\n            </div>\r\n            <div className=\"card-header\">\r\n              <button type=\"reset\" onClick={(e) => this.addTransaction(e)} className=\"btn btn-block btn-info\">Save Trade Information</button>\r\n            </div>\r\n\r\n        </form>\r\n        \r\n    </div>\r\n  )\r\n    \r\n}\r\n  \r\n  printData = () => {\r\n    console.log('vo print data trading list ' + JSON.stringify(this.state.data));\r\n      if(this.state.data !== null){\r\n       return  this.state.data.map((value,key)=> \r\n           (<Trade\r\n           key={key}\r\n           tradeId={value.id}\r\n           title={value.title}\r\n           createddate={value.createddate}\r\n           timeframe={value.timeframe}\r\n           symbolcode={value.symbolcode}\r\n           qty={value.qty}\r\n           entrypoint={value.entrypoint}\r\n           exitpoint={value.exitpoint}\r\n           buyshort={value.buyshort}\r\n           stocolor={value.stocolor}\r\n           rsicolor={value.rsicolor}\r\n           macdcolor={value.macdcolor}\r\n           macd_htf={value.macd_htf}\r\n           b_image={value.b_image}\r\n           s_image={value.s_image}\r\n           createdby={value.createdby}   />)\r\n        )\r\n      }\r\n  }\r\n  \r\n  isChange = (event) => {\r\n    var name = event.target.name;\r\n    var value = event.target.value;\r\n    this.setState({\r\n        [name]:value\r\n    });\r\n    console.log('doi tuong : ' + name);\r\n    console.log('gia tri : ' + value);\r\n    \r\n  }\r\n\r\n  isActionChange = (event) => {\r\n    var name = event.target.name;\r\n    var value = event.target.value;\r\n    //console.log('doi tuong : ' + name);\r\n    //console.log('gia tri : ' + value);\r\n    \r\n    this.setState({\r\n        [name]:value\r\n    });\r\n\r\n    if(value == 1) {\r\n        // BUY action\r\n        this.setState({\r\n          stocolor: '1',\r\n          rsicolor: '1',\r\n          macdcolor: '1',\r\n          macd_htf: '1'\r\n        })\r\n    } else {\r\n        // SHORT action\r\n        this.setState({\r\n          stocolor: '2',\r\n          rsicolor: '2',\r\n          macdcolor: '2',\r\n          macd_htf: '2'\r\n      })\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  fileSelectedHandler = event => {\r\n    const s_image = event.target.files[0].name\r\n\r\n    // --- update trong phan state.* rieng, phan state.currentTrade (la object trong state) rieng\r\n    // khi ADD thi khac: lam chung trong setState\r\n    this.setState({\r\n      selectedFile: event.target.files[0],\r\n      s_image: \"../uploads/\" + s_image   // khong hieu sao o day khong xai event.target duoc\r\n    })\r\n  }\r\n\r\n  \r\n  fileBigSelectedHandler = event => {\r\n    const b_image = event.target.files[0].name\r\n    this.setState({\r\n      selectedBigFile: event.target.files[0],\r\n      b_image: \"../uploads/\" + b_image\r\n    })\r\n    console.log('b ' + this.state.selectedBigFile);\r\n  }  \r\n\r\n  addTransaction = () => {    \r\n      console.log('handleCilck ADD here');\r\n      console.log('ten file nho ' + this.state.s_image);\r\n      console.log('ten file lon ' + this.state.b_image);\r\n      var ss_image = null;\r\n      var bb_image = null;\r\n\r\n      if (this.state.b_image == null) {\r\n        console.log('bbbbbbbbbbbbbbbbbb');\r\n        var today = new Date(),\r\n        date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n        // datee = (today.getMonth() + 1).toString + today.getDate().toString + today.getFullYear().toString;\r\n        bb_image = '..uploads/' + this.state.symbolcode + '-' + date\r\n      }\r\n      if (this.state.s_image == null) {\r\n        console.log('sssssssssssssssssss');\r\n          ss_image = '../uploads/commingsoon.jpg'\r\n      }\r\n      console.log('ten file nho 2' + this.state.s_image);\r\n      console.log('ten file lon ' + this.state.b_image);\r\n  \r\n      // Xu ly add du lieu vao db\r\n      var {title,createddate,timeframe,symbolcode,qty,entrypoint,exitpoint,buyshort,stocolor,rsicolor,macdcolor,macd_htf,b_image,s_image,createdby} = this.state;\r\n      // var dataTemp = [];      \r\n      var data = {\r\n        title: title,\r\n        createddate: createddate,\r\n        timeframe: timeframe,\r\n        symbolcode: symbolcode,\r\n        qty: qty,\r\n        entrypoint: entrypoint,\r\n        exitpoint: exitpoint,\r\n        buyshort: buyshort,\r\n        stocolor: stocolor,\r\n        rsicolor: rsicolor,\r\n        macdcolor: macdcolor,\r\n        macd_htf: macd_htf,\r\n        b_image: b_image === null? bb_image:b_image,\r\n        s_image: s_image === null? ss_image:s_image,\r\n        createdby: createdby\r\n      };\r\n    \r\n        dailystockDataService.create(data)\r\n          .then(response => {\r\n            // this.setState({\r\n            //   id: response.data.id,\r\n            //   user: response.data.user,\r\n            //   avatar: response.data.avatar,\r\n            //   email: response.data.email,\r\n            //   password: response.data.password,\r\n            //   isadmin: response.data.isadmin,\r\n            //   submitted: true\r\n            // });\r\n            console.log('new transaction : ' + JSON.stringify(response.data));\r\n            this.setState({\r\n              message: \"New transction has just created sucessfully!\",\r\n            })\r\n    \r\n          // Xu ly tiep phan upload file\r\n          myUtility.uploadFiles(\"upfileUploads\", this.state.selectedFile);\r\n          myUtility.uploadFiles(\"upfileUploads\", this.state.selectedBigFile);\r\n    \r\n    \r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n      \r\n  }\r\n\r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n          <header className=\"masthead\">\r\n            <div className=\"col-lg-12 my-auto\">\r\n                <div className=\"header-content mx-auto\">\r\n                    <h1>Trading Records</h1>\r\n                </div>\r\n            </div>\r\n          </header>\r\n      \r\n              {/* <div className=\"col-xs-8\"> */}\r\n                  {/* We want to show the form if the state is true */}\r\n                  {this.state.showAddButton && this.renderAddButton()}\r\n              {/* </div> */}\r\n                \r\n                \r\n              {/* Bat dau phan trading list chinh */}\r\n              <div className=\"container-fluid col-12\">\r\n                  <div className=\"row\">\r\n                    <div className=\"card border-secondary mb-3 mt-2 col-2\">\r\n                      <div>\r\n                      <ul className=\"list-item\">\r\n                          <li>\r\n                            <a href={'/dailystocks/1?searchKeyword='}>ALL symbols</a>\r\n                          </li>\r\n                          {this.state.masterSymbols.reverse().map((mastercategory) => \r\n                          <li>\r\n                            <a href={'/dailystocks/1?searchKeyword='+ mastercategory.symbolcode}>{mastercategory.symbolcode + \" (\" + mastercategory.DemNguoc + \")\"}</a>\r\n                          </li>\r\n                          )}\r\n                      </ul>\r\n\r\n                        \r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"card border-primary mb-3 mt-2 col-10\">\r\n                      <div className=\"col-10\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-divide-header\">\r\n                              <a href={'/dailystocks/1?searchKeyword='}>ALL </a> or Top 5:\r\n                            </div>\r\n                           \r\n                            <div className=\"col-divide\">\r\n                                {this.state.masterSymbols.slice(0,this.state.topFive).map((masterFive) => \r\n                                    <a href={'/dailystocks/1?searchKeyword='+ masterFive.symbolcode}>{masterFive.symbolcode + \"  \"}</a>\r\n                                  )}\r\n                            </div>                            \r\n\r\n                        </div>\r\n                      </div>\r\n  \r\n                            {this.printData()}\r\n                    </div>\r\n                    {/* Ket thuc phan trading list chinh */}\r\n                  </div>\r\n              </div>\r\n\r\n              <div className=\"header col\">\r\n              <Pagination \r\n                  currentPage={this.state.currentPage-1}\r\n                  pageCount={this.state.totalPages}\r\n                  pageLinkClassName=\"page-link\"\r\n                  currentLinkClassName=\"current-link\"\r\n                  onPageClick={i => {\r\n                    console.log(`Link to page ${i} was clicked.`);\r\n                    this.onChangeCurrentPage(i);\r\n                  }} />\r\n\r\n              currentPage: {this.state.currentPage} / pageCount: {this.state.totalPages}\r\n              {/* <li>pageLinkClassName: \"page-link\"</li>\r\n              <li>currentLinkClassName=\"current-link\"</li> */}\r\n          </div>\r\n\r\n      </div>\r\n  \r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  console.log('userSignin trong user List ' + JSON.stringify(state.userSignin.userInfo));\r\n  \r\n  return {\r\n      currUser: state.userSignin.userInfo\r\n  }\r\n}\r\nexport default connect(mapStateToProps, null)(tradingList);\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport dailystockDataService from \"../services/dailystock.service\";\r\nimport {NavLink, Link  } from \"react-router-dom\";\r\n\r\nclass TradeDetail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentTrade:null ,\r\n            title:'',\r\n            timeframe:'',\r\n            symbolcode:'',\r\n            qty:'',\r\n            entrypoint:'',\r\n            exitpoint:'',\r\n            buyshort:'',\r\n            stocolor:'',\r\n            rsicolor:'',\r\n            macdcolor:'',\r\n            macd_htf:'',\r\n            s_image:''\r\n        }\r\n        }\r\n      \r\n    componentDidMount() {\r\n        console.log('param  :' + parseInt(this.props.match.params.id));   // co param id roi\r\n        this.getTradeData(parseInt(this.props.match.params.id));\r\n        if(this.state.currentTrade === null ){\r\n            // this.getTradeData(parseInt(this.props.match.params.id));\r\n        //     getTradeData(parseInt(this.props.match.params.id)).then((res)=>{\r\n        //         //console.log('vo day roi  ' + res);\r\n        //     this.setState({\r\n        //       data:res\r\n        //     });\r\n        //     //console.log('vo day roi lay data xem ' + this.state.data);    // co data roi\r\n        //   })\r\n        }\r\n    }\r\n\r\n    getTradeData(id) {\r\n        console.log('user id trg getTradeData: ' + id);\r\n        dailystockDataService.get(id)\r\n          .then(response => {\r\n            this.setState({\r\n                currentTrade: response.data\r\n            });\r\n            console.log(response.data);\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n      }\r\n    \r\n\r\n    translateBuyShort = (color) =>\r\n    {\r\n        var strBSColor = [];\r\n        if (color == 1) {\r\n            strBSColor = [\"Buy\",\"Green\"]\r\n        } else if (color == 2) {\r\n            strBSColor = [\"Short\",\"Red\"]\r\n        }\r\n        \r\n        return strBSColor\r\n\r\n    }\r\n  \r\n    translateIndicatorColor = (color) =>\r\n    {\r\n        var strColor = '';\r\n        if (color == 1) {\r\n            strColor = \" Green\"\r\n        } else if (color == 2) {\r\n            strColor = \"Red\"\r\n        } else {\r\n            strColor = \"Black\"\r\n        }\r\n        \r\n        return strColor\r\n\r\n    }\r\n\r\n    printData = () => {\r\n        if(this.state.currentTrade !== null){\r\n         return (\r\n           \r\n            <div className=\"container\">\r\n                <div className=\"col-lg-12 col-md-10 mx-auto\">\r\n                    <div className=\"card border-primary mb-3 mt-2\">\r\n                        <div className=\"card-header\"><h3>{this.state.currentTrade.title}</h3>\r\n                            <div>\r\n                                <a href=\"/dailystocks/1?searchKeyword=\">Trading List  ... </a>\r\n                                <Link to=\"/dailystocks/1?searchKeyword=\" >Link to Trading List</Link>\r\n                            </div>\r\n                            <div className=\"card-body text-primary\">\r\n                                <div className=\"row\">\r\n                                    \r\n                                    <div className=\"col\">\r\n                                        <div>Date: {this.state.currentTrade.createdAt}. Time frame: {this.state.currentTrade.timeframe}.</div>\r\n                                        <div>Stok code: {this.state.currentTrade.symbolcode}. Quantity: {this.state.currentTrade.qty}</div>\r\n                                        <div><b className=\" float-left\" style={{color: this.translateBuyShort(this.state.currentTrade.buyshort)[1]}}>\r\n                                                {this.translateBuyShort(this.state.currentTrade.buyshort)[0]}</b>\r\n                                        </div>\r\n                                        <div>: Entry point: {this.state.currentTrade.entrypoint}. Exit point {this.state.currentTrade.exitpoint} </div>\r\n                                        <div> Stochastic: <b style={{color: this.translateIndicatorColor(this.state.currentTrade.stocolor)}}> {this.translateIndicatorColor(this.state.currentTrade.stocolor)} </b> </div>\r\n                                        <div> RSI       : <b style={{color: this.translateIndicatorColor(this.state.currentTrade.rsicolor)}}> {this.translateIndicatorColor(this.state.currentTrade.rsicolor)} </b> </div>\r\n                                        <div> MACD      : <b style={{color: this.translateIndicatorColor(this.state.currentTrade.macdcolor)}}> {this.translateIndicatorColor(this.state.currentTrade.macdcolor)} </b> </div>\r\n                                        <div> MACD HTF  : <b style={{color: this.translateIndicatorColor(this.state.currentTrade.macd_htf)}}> {this.translateIndicatorColor(this.state.currentTrade.macd_htf)} </b> </div>\r\n                                    </div>\r\n                                    <div className=\"col-3\">\r\n                                        <img width=\"80%\" src={\"http://localhost:8080/uploads/\" + this.state.currentTrade.s_image} className=\"img\"  alt=\"\" />\r\n                                    </div>\r\n                                </div>\r\n                                <br></br>\r\n                                <img width=\"100%\" src={\"http://localhost:8080/uploads/\" + this.state.currentTrade.b_image} className=\"img\"  alt=\"\" />\r\n\r\n                            </div>    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n                \r\n        )\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        console.log('Trade Detail here');\r\n        //console.log('param  :' + parseInt(this.props.match.params.id));   // co param id roi\r\n        //console.log('vo day roi lay data xem tin tuc ' + JSON.stringify(this.state.data));    // co data roi\r\n        return (\r\n        <div>\r\n            <header className=\"masthead tintuc\">\r\n                <div className=\"container h-100\">\r\n                    <div className=\"row h-100\">\r\n                        <div className=\"col-lg-12 my-auto\">\r\n                        <div className=\"header-content mx-auto\">\r\n                            <h1 className=\"mb-1\">Trade in Details</h1>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Begin trade detail */}\r\n                {this.printData()}                \r\n            {/* End trade detail */}\r\n\r\n        </div>\r\n        // End of retrun\r\n        );\r\n    }\r\n}\r\n\r\nexport default TradeDetail;","import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport './App.css';\nimport { connect } from 'react-redux';\n\nimport HomeScreen from \"./components/home.component\"; \nimport UsersList from \"./components/user-list.component\";\nimport AddUser from \"./components/add-user.component\";\nimport UserProfile from \"./components/profile.component\";\nimport SigninScreen from \"./components/signin.component\";\nimport { userLogoutFetch } from './actions/userActions';\nimport ImportCSV from \"./components/import-csv.component\";\nimport UnderConstruction from \"./components/z-under-construction.component\";\nimport TradingList from \"./components/trading-list.component\";\nimport TradeDetail from \"./components/trade-detail.component\";\nimport EditTrade from \"./components/edit-trade.component\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user:'',\n      password: '',\n      email:''\n  }\n  }\n  \n  logoutHandler = (e) => {\n    e.preventDefault();\n    this.props.userLogoutFetch();\n    window.location=\"/\";    // khong biet lam sao\n  }\n\n  componentDidMount() {\n    \n  }\n\n  openMenu = () => {\n    document.querySelector(\".sidebar\").classList.add(\"open\");\n  }\n\n  closeMenu = () => {\n    document.querySelector(\".sidebar\").classList.remove(\"open\");\n  }\n\n  isActionChange = (event) => {\n    var name = event.target.name;\n    var value = event.target.value;\n    // console.log('doi tuong : ' + name);\n    // console.log('gia tri : ' + value);\n    this.setState({ \n      usvn_longtieng: value\n    });\n  }\n\n\n  render() {\n\n    return (\n      <Router>\n        <header className=\"header\">\n          <div className=\"brand\">\n            <button onClick={this.openMenu}>\n                  &#9776;\n            </button>\n            <a href=\"/underconstruction/\">DD Daily Stock</a>\n          </div>\n          <div className=\"header-links\">\n\n            {\n              this.props.currUser.userInfo ? <Link to={\"/userProfile/\" + this.props.currUser.userInfo.id}>Profile: {this.props.currUser.userInfo.user}</Link> : <Link to=\"/signin\">Sign In</Link>\n            }\n            {/* {userInfo && userInfo.isAdmin && ( */}\n            {(\n              <div className=\"dropdown\">\n                <a>\n                  {this.props.currUser.userInfo ? 'Admin Menu' : null\n                  }\n                </a>\n                <ul className=\"dropdown-content\">\n                  <li>\n                    {\n                      // this.getUser(this.props.currUser.userInfo.id);\n                     this.props.currUser.userInfo ? <Link to={\"/userProfile/\" + this.props.currUser.userInfo.id}>Profile: {this.props.currUser.userInfo.user}</Link> : <Link to=\"/signin\">Sign In</Link>\n                    }\n                    <Link onClick={this.logoutHandler}>Logout</Link>\n                  </li>\n                  <li>\n                    {/* <Link to=\"/underconstruction\">Orders List</Link> */}\n                  </li>\n                  {/* Phan quyen so so */}\n                  { this.props.currUser.userInfo ? ( this.props.currUser.userInfo.isadmin === 0 ?\n                    <div>\n                        <li>\n                          <Link to=\"/users\">Users List</Link>\n                          <Link to=\"/adduser\">Add User</Link>\n                        </li>\n                        <li>\n                          <Link to=\"/underconstruction\">Add Product</Link>\n                          <Link to=\"/underconstruction\">Add Customer</Link>\n                        </li>\n\n                    </div>\n                  : null ) : null\n                  }\n\n                  \n                </ul>\n              </div>\n            )}\n          </div>\n        </header>\n        \n        <aside className=\"sidebar\">\n          <h3>Shopping Categories</h3>\n          <button className=\"sidebar-close-button\" onClick={this.closeMenu}>x</button>\n\n          <ul>\n              <div>\n                <label className=\"form-label\"><strong>Long tieng:</strong>\n                    <input onChange={(event)=> this.isActionChange(event)} value=\"0\" type=\"radio\" className=\"form-input\" name=\"usvn_longtieng\" defaultChecked='0' />US\n                    <input onChange={(event)=> this.isActionChange(event)} value=\"1\" type=\"radio\" className=\"form-input\" name=\"usvn_longtieng\" />VN\n                </label>\n              </div>\n          </ul>\n\n          <ul>\n            <li>\n              <a href=\"/dailystocks/1?searchKeyword=\">Trading List</a>\n            </li>\n            <li>\n              <a href=\"/importcsv/\">Import CSV</a>\n            </li>\n            <li>\n              <a href=\"/underconstruction/\">Retail Seal Box</a>\n            </li>\n          </ul>\n        </aside>\n\n        <div>\n          <div className=\"container\">\n            <Switch>\n              <Route path=\"/\" exact={true} component={HomeScreen} />\n              <Route exact path={[\"/signin\"]} component={SigninScreen} />\n              <Route exact path={\"/users\"} component={UsersList} />\n              <Route exact path={\"/adduser\"} component={AddUser} />\n              <Route exact path={\"/userProfile/:id\"} component={UserProfile} />\n              <Route exact path={\"/importcsv\"} component={ImportCSV} />\n              <Route exact path={\"/dailystocks/:currentPage\" } component={TradingList} />\n              <Route exact path=\"/tradedetail/:slug.:id.html\" component={TradeDetail}/>\n              <Route exact path={\"/editTrade/:id\"} component={EditTrade} />\n              <Route exact path={\"/underconstruction\"} component={UnderConstruction} />\n            </Switch>\n          </div>\n        </div>\n      </Router>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  userLogoutFetch: () => dispatch(userLogoutFetch())\n})\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log('userSignin trong App.js ' + JSON.stringify(state.userSignin));\n  \n  return {\n      // currUser: state.userSignin.userInfo  //8/3 tam doi ve userSignin\n      currUser: state.userSignin\n  }\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n// export default App;\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport Cookie from 'js-cookie';\n\nimport { userReducer } from './reducers/userReducers';\n\n// const cartItems = Cookie.getJSON(\"cartItems\") || [];\nconst userInfo = Cookie.getJSON('userInfo') || null;\nconsole.log('userinfo from Cookie in store' + JSON.stringify(userInfo));\n\n\nconst initialState = { userSignin: { userInfo } };\n\nconst reducer = combineReducers({\n  userSignin: userReducer\n})\n\n//composeEnhancer de cho extension REDUX tren google chrome work tot - Dung \nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducer, initialState, composeEnhancer(applyMiddleware(thunk)));\n\nstore.subscribe(function(){\n  console.log('trong store ne ' + JSON.stringify(store.getState()));\n})\n\nexport default store;\n","// import { USER_SIGNIN_REQUEST, USER_SIGNIN_SUCCESS, USER_SIGNIN_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_REGISTER_FAIL, USER_LOGOUT, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS, USER_UPDATE_FAIL } from \"../constants/userConstants\";\n\nimport Cookie from 'js-cookie';\n\n// const userInfo = Cookie.getJSON(\"userInfo\") || null;\n// console.log('userinfo from reducer  ' + userInfo);\n\n//viet lai theo kieu mapDtoProps\n// const initialState = { userSignin: { userInfo } };\n\nfunction userReducer(state = {}, action) {\n  console.log('vo day chua theky - userreducer  0711 ' + JSON.stringify(action.payload));\n\n  console.log('vo reducer sign-in');\n  switch (action.type) {\n    case 'USER_SIGNIN_REQUEST':\n      return { loading: true };\n    case 'USER_SIGNIN_SUCCESS':\n      return { loading: false, userInfo: action.payload };\n    case 'USER_SIGNIN_FAIL':\n      return { loading: false, error: action.payload.error };\n    case 'USER_LOGOUT':\n      return {};\n    default: return state;\n  }\n   \n  }\n\n// End phan viet lai theo kieu mapDtoProps\n\n// Redux kieu thunk\n// function userSigninReducer(state = {}, action) {\n//   console.log('vo reducer Signin');\n//   switch (action.type) {\n//     case USER_SIGNIN_REQUEST:\n//       return { loading: true };\n//     case USER_SIGNIN_SUCCESS:\n//       return { loading: false, userInfo: action.payload };\n//     case USER_SIGNIN_FAIL:\n//       return { loading: false, error: action.payload };\n//     case USER_LOGOUT:\n//       return {};\n//     default: return state;\n//   }\n// }\n\n// function userUpdateReducer(state = {}, action) {\n//   switch (action.type) {\n//     case USER_UPDATE_REQUEST:\n//       return { loading: true };\n//     case USER_UPDATE_SUCCESS:\n//       return { loading: false, userInfo: action.payload };\n//     case USER_UPDATE_FAIL:\n//       return { loading: false, error: action.payload };\n//     default: return state;\n//   }\n// }\n\n// function userRegisterReducer(state = {}, action) {\n//   switch (action.type) {\n//     case USER_REGISTER_REQUEST:\n//       return { loading: true };\n//     case USER_REGISTER_SUCCESS:\n//       return { loading: false, userInfo: action.payload };\n//     case USER_REGISTER_FAIL:\n//       return { loading: false, error: action.payload };\n//     default: return state;\n//   }\n// }\nexport {\n  // userSigninReducer, userRegisterReducer, userUpdateReducer, userReducer\n  userReducer\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport store from './store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\n// TriDung: we add our code from this below line: npm install react-router-dom --save\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}